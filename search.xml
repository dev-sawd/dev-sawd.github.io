<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Go언어에서의 MVC...?</title>
      <link href="/2022/02/04/Golang-mvc-pattern/"/>
      <url>/2022/02/04/Golang-mvc-pattern/</url>
      
        <content type="html"><![CDATA[<p>조금 더 확실하게 공부해서 앞으로 있을 체인코드 개발에 MVC에 가깝게 구조를 잡고 개발하기위해 정리</p><h1 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h1><p>데이터를 받아 비즈니스 로직을 처리<br>주로 DB와의 상호작용이 해당</p><a id="more"></a><h1 id="View"><a href="#View" class="headerlink" title="View"></a>View</h1><p>레이아웃과 화면을 처리<br>애플리케이션의 데이터를 보여주는 방식</p><h1 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h1><p>사용자로부터 요청을 받아 수행할 비즈니스 로직을 제어</p><h1 id="체인코드에서는"><a href="#체인코드에서는" class="headerlink" title="체인코드에서는..?"></a>체인코드에서는..?</h1><p>MVC패턴을 제대로 모르더라도 구조를 보면 많이 익숙한 느낌이 들정도로 개발자들은 자주 접하는 구조<br>하지만 체인코드를 개발할때 MVC를 그대로 사용하기에는 무리가 있어서 조금 내 방식대로 수정</p><p>호출 순서는 아래와 같다고 생각</p><p>사용자 → Controller → Service → DAO → DB</p><p>그리고 각 호출에서 필요한 데이터 구조(DTO)를 정의하는 정도로 생각</p><h1 id="폴더-구조"><a href="#폴더-구조" class="headerlink" title="폴더 구조"></a>폴더 구조</h1><p>직관적으로 각 구조마다 폴더명을 지정해서 관리<br>dao, dto는 service, object등으로 상황에 따라 다르게 사용</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">\GOPROJECT\SRC\MVC</span><br><span class="line">│  main.go</span><br><span class="line">│</span><br><span class="line">├─controller</span><br><span class="line">│      personController.go</span><br><span class="line">│</span><br><span class="line">├─dao</span><br><span class="line">│      DBManager.go</span><br><span class="line">│</span><br><span class="line">├─dto</span><br><span class="line">│      person.go</span><br><span class="line">│</span><br><span class="line">└─service</span><br><span class="line">        personService.go</span><br></pre></td></tr></table></figure><h1 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h1><script src="//gist.github.com/c8bc668ea2d139dfdc69a16128db3189.js"></script><p>개발을 하면서 반복되는 코드는 계속해서 리펙토링을 통해 제거하고 관리해야함</p><p><del>그래도 나중엔 감당안되긴 해…</del></p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
            <tag> Golang </tag>
            
            <tag> Pattern </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Golang</title>
      <link href="/2022/02/04/Hello-Golang/"/>
      <url>/2022/02/04/Hello-Golang/</url>
      
        <content type="html"><![CDATA[<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"Hello Golang"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><script src="//gist.github.com/44e38cda1e98acfca88c81c2ddba1024.js"></script><p>가볍게라도 꾸준히!</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Node.js] 이벤트와 이벤트 리스너</title>
      <link href="/2020/06/10/Node-js-event-and-event-listener/"/>
      <url>/2020/06/10/Node-js-event-and-event-listener/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/node.js_logo.png" alt=""></p><p>events를 이용해 이벤트 발생 방법과 처리하는 방법에 대해서 공부</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// event.js</span></span><br><span class="line"><span class="keyword">const</span> EventEmitter = <span class="built_in">require</span>(<span class="string">'events'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myEvent = <span class="keyword">new</span> EventEmitter();</span><br><span class="line">myEvent.addListener(<span class="string">'event1'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 1'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">myEvent.on(<span class="string">'event2'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 2'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">myEvent.on(<span class="string">'event2'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 2 추가'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">myEvent.emit(<span class="string">'event1'</span>);</span><br><span class="line">myEvent.emit(<span class="string">'event2'</span>);</span><br><span class="line"></span><br><span class="line">myEvent.once(<span class="string">'event3'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 3'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">myEvent.emit(<span class="string">'event3'</span>);</span><br><span class="line">myEvent.emit(<span class="string">'event3'</span>); <span class="comment">// 위의 event3 이벤트만 한번 호출됨</span></span><br><span class="line"></span><br><span class="line">myEvent.on(<span class="string">'event4'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 4'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">myEvent.removeAllListeners(<span class="string">'event4'</span>);</span><br><span class="line">myEvent.emit(<span class="string">'event4'</span>); <span class="comment">// 위의 removeAllListeners를 통해 event4 리스너가 삭제되어 콜백 호출되지 않음</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> listener = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'이벤트 5'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">myEvent.on(<span class="string">'event5'</span>, listener);</span><br><span class="line">myEvent.removeListener(<span class="string">'event5'</span>, listener);</span><br><span class="line">myEvent.emit(<span class="string">'event5'</span>); <span class="comment">// 위의 removeListener를 통해 event5 리스너가 삭제되어 콜백 호출되지 않음</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(myEvent.listenerCount(<span class="string">'event2'</span>));</span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> node event.js</span></span><br><span class="line">이벤트 1</span><br><span class="line">이벤트 2</span><br><span class="line">이벤트 2 추가</span><br><span class="line">이벤트 3</span><br><span class="line">2</span><br></pre></td></tr></table></figure><ul><li><p>on(이벤트명, 콜백)<br>이벤트 이름과 이벤트 발생 시의 콜백을 연결해주고 이렇게 연결하는 동작을 이벤트 리스닝이라고 부름<br>event2처럼 이벤트 하나에 여러개를 달아줄 수도 있음</p></li><li><p>addListener(이벤트명, 콜백)<br>on과 기능이 같음</p></li><li><p>emit(이벤트명)<br>이벤트를 호출하는 메서드<br>이벤트 이름을 인자로 넣어주면 미리 등록해뒀던 이벤트 콜백이 실행됨</p></li><li><p>once(이벤트명, 콜백)<br>한번만 실행되는 이벤트<br>위의 예제에서 myEvent.emit(‘event3’)을 두 번 연속 호출했지만 콜백이 한번만 실행됨</p></li><li><p>removeAllListeners(이벤트명)<br>이벤트에 연결된 모든 이벤트 리스너를 제거함<br>event4가 호출되기 전에 이벤트 리스너를 제거했으므로 event4의 콜백은 호출되지 않음</p></li><li><p>removeListener(이벤트명, 리스너)<br>이벤트에 연결된 리스너를 하나씩 제거<br>event5의 콜백도 호출되지 않음</p></li><li><p>off(이벤트명, 콜백)<br>노드 10 버전에서 추가된 메서드로, removeListener와 기능이 같음</p></li><li><p>listenerCount(이벤트명)<br>현재 리스너가 몇 개 연결되어 있는지 확인</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Node.js] 파일 시스템</title>
      <link href="/2020/06/09/Node-js-file-system/"/>
      <url>/2020/06/09/Node-js-file-system/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/node.js_logo.png" alt=""></p><p>fs 모듈은 파일 시스템에 접근하는 모듈</p><a id="more"></a><h1 id="파일-읽기"><a href="#파일-읽기" class="headerlink" title="파일 읽기"></a>파일 읽기</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; readme.txt</span><br><span class="line">this is readme.txt</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// readFile.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">'./readme.txt'</span>, (err, data) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(data); <span class="comment">// 버퍼로 출력</span></span><br><span class="line">    <span class="built_in">console</span>.log(data.toString()); <span class="comment">// 문자열로 출력</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> node readFile.js</span></span><br><span class="line">&lt;Buffer 74 68 69 73 20 69 73 20 72 65 61 64 6d 65 2e 74 78 74 0d 0a&gt;</span><br><span class="line">this is readme.txt</span><br></pre></td></tr></table></figure><h1 id="동기-메서드와-비동기-메서드"><a href="#동기-메서드와-비동기-메서드" class="headerlink" title="동기 메서드와 비동기 메서드"></a>동기 메서드와 비동기 메서드</h1><p>setTimeout 같은 타이머와 process.netTick 외에도 노드는 대부분의 메서드를 비동기 방식으로 처리<br>특히 fs 모듈이 비동기 메서드를 많이 가지고있음</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// async.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'시작'</span>);</span><br><span class="line">fs.readFile(<span class="string">'./readme.txt'</span>, (err, data)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1번'</span>, data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">'./readme.txt'</span>, (err, data)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'2번'</span>, data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">'./readme.txt'</span>, (err, data)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'3번'</span>, data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'끝'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> node async.js</span></span><br><span class="line">시작</span><br><span class="line">끝</span><br><span class="line">3번 this is readme.txt</span><br><span class="line"></span><br><span class="line">1번 this is readme.txt</span><br><span class="line"></span><br><span class="line">2번 this is readme.txt</span><br></pre></td></tr></table></figure><p>비동기 메서드들은 백그라운드에 해당 파일을 읽으라고만 요청하고 다음 작업으로 넘어감<br>따라서 파일 읽기 요청만 세번 보내고 <code>console.log(&#39;끝&#39;)</code>을 찍음<br>나중에 읽기가 완료되면 백그라운드가 다시 메인 스레드에 알림을 주고 이때 콜백 함수를 실행</p><blockquote><p>동기와 비동기, 블로킹과 논블로킹<br>노드에서는 비동기와 동기, 블로킹과 논블로킹이라는 네 용어가 혼용됨</p><ul><li>동기와 비동기 : 함수가 바로 return 되는지 여부</li><li>블로킹과 논 블로킹 : 백그라운드 작업 완료 여부<br>노드에서는 동기-블로킹 방식과 비동기-논블로킹 방식이 대부분</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sync.js</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'시작'</span>);</span><br><span class="line"><span class="keyword">let</span> data = fs.readFileSync(<span class="string">'./readme.txt'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1번'</span>, data.toString());</span><br><span class="line">data = fs.readFileSync(<span class="string">'./readme.txt'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'2번'</span>, data.toString());</span><br><span class="line">data = fs.readFileSync(<span class="string">'./readme.txt'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'3번'</span>, data.toString());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'끝'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">% node sync.js</span><br><span class="line">시작</span><br><span class="line">1번 this is readme.txt</span><br><span class="line"></span><br><span class="line">2번 this is readme.txt</span><br><span class="line"></span><br><span class="line">3번 this is readme.txt</span><br><span class="line"></span><br><span class="line">끝</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Node.js] 단방향 암호화</title>
      <link href="/2020/06/08/Node-js-simplex-crypto/"/>
      <url>/2020/06/08/Node-js-simplex-crypto/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/node.js_logo.png" alt=""></p><p>비밀번호는 보통 단방향 암호화 알고리즘을 사용해서 암호화함<br>단방향 암호화 알고리즘은 주로 해시 기법을 사용<br>해시 기법이란 어떠한 문자열을 고정된 길이의 다른 문자열로 바꿔버리는 방식</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">'crypto'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'base64:'</span>, crypto.createHash(<span class="string">'sha512'</span>).update(<span class="string">'비밀번호'</span>).digest(<span class="string">'base64'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hex:'</span>, crypto.createHash(<span class="string">'sha512'</span>).update(<span class="string">'비밀번호'</span>).digest(<span class="string">'hex'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'base64:'</span>, crypto.createHash(<span class="string">'sha512'</span>).update(<span class="string">'다른 비밀번호'</span>).digest(<span class="string">'base64'</span>))</span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> node hash.js</span></span><br><span class="line">base64: dvfV6nyLRRt3NxKSlTHOkkEGgqW2HRtfu19Ou/psUXvwlebbXCboxIPmDYOFRIpqav2eUTBFuHaZri5x+usy1g==</span><br><span class="line">hex: 76f7d5ea7c8b451b773712929531ce92410682a5b61d1b5fbb5f4ebbfa6c517bf095e6db5c26e8c483e60d8385448a6a6afd9e513045b87699ae2e71faeb32d6</span><br><span class="line">base64: cx49cjC8ctKtMzwJGBY853itZeb6qxzXGvuUJkbWTGn5VXAFbAwXGEOxU2Qksoj+aM2GWPhc1O7mmkyohXMsQw==</span><br></pre></td></tr></table></figure><h1 id="createHash-알고리즘"><a href="#createHash-알고리즘" class="headerlink" title="createHash(알고리즘)"></a>createHash(알고리즘)</h1><p>사용할 해시 알고리즘<br>md5, sha1, sha256, sha512등이 가능, 현재는 sha512정도로 충분</p><h1 id="update-문자열"><a href="#update-문자열" class="headerlink" title="update(문자열)"></a>update(문자열)</h1><p>변환할 문자열</p><h1 id="digest-인코딩"><a href="#digest-인코딩" class="headerlink" title="digest(인코딩)"></a>digest(인코딩)</h1><p>인코딩할 알고리즘<br>base64, hex, latin1이 주로 사용, 그중 base64 결과 문자열이 가장 짧아 애용</p>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Node.js] path module</title>
      <link href="/2020/06/07/Node.js-node-js-path-module/"/>
      <url>/2020/06/07/Node.js-node-js-path-module/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/node.js_logo.png" alt=""></p><p>폴더와 파일의 경로를 쉽게 조작하도록 도와주는 모듈<br>운영체제별로 경로 구분자가 다르기 때문에 사용</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /Users/devsawd/hello-world/index.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.sep:'</span>, path.sep);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.delimiter:'</span>, path.delimiter);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.dirname(__filename):'</span>, path.dirname(__filename));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.extname(__filename):'</span>, path.extname(__filename));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.basename(__filename):'</span>, path.basename(__filename));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.basename(__filename):'</span>, path.basename(__filename, path.extname(__filename)));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.parse(__filename)'</span>, path.parse(__filename));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`path.format(&#123;</span></span><br><span class="line"><span class="string">    dir: '/Users/devsawd/hello-world',</span></span><br><span class="line"><span class="string">    name: 'index',</span></span><br><span class="line"><span class="string">    ext: '.js',</span></span><br><span class="line"><span class="string">&#125;));:`</span>, path.format(&#123;</span><br><span class="line">    dir: <span class="string">'/Users/devsawd/hello-world'</span>,</span><br><span class="line">    name: <span class="string">'index'</span>,</span><br><span class="line">    ext: <span class="string">'.js'</span>,</span><br><span class="line">&#125;));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.normalize('</span>/Users/devsawd/hello-world/index.js<span class="string">'):'</span>, path.normalize(<span class="string">'/Users/devsawd/hello-world/index.js'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.isAbsolute('</span>/users<span class="string">'):'</span>, path.isAbsolute(<span class="string">'/users'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.isAbsolute('</span>./home<span class="string">'):'</span>, path.isAbsolute(<span class="string">'./home'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'====================================================================================='</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`path.relative('/Users/devsawd/hello-world/index.js', '/Users'));: `</span>, path.relative(<span class="string">'/Users/devsawd/hello-world/index.js'</span>, <span class="string">'/Users'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'__dirname:'</span>, __dirname);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.join(__dirname, '</span>..<span class="string">', '</span>/Users<span class="string">', '</span>.<span class="string">', '</span>devsawd<span class="string">'):'</span>, path.join(__dirname, <span class="string">'..'</span>, <span class="string">'/Users'</span>, <span class="string">'.'</span>, <span class="string">'devsawd'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'path.resolve(__dirname, '</span>..<span class="string">', '</span>/Users<span class="string">', '</span>.<span class="string">', '</span>devsawd<span class="string">'):'</span>, path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'/Users'</span>, <span class="string">'.'</span>, <span class="string">'devsawd'</span>));</span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">hello-world % node index.js</span><br><span class="line">path.sep: /</span><br><span class="line">path.delimiter: :</span><br><span class="line">=====================================================================================</span><br><span class="line">path.dirname(__filename): /Users/devsawd/hello-world</span><br><span class="line">path.extname(__filename): .js</span><br><span class="line">path.basename(__filename): index.js</span><br><span class="line">path.basename(__filename): index</span><br><span class="line">=====================================================================================</span><br><span class="line">path.parse(__filename) &#123;</span><br><span class="line">  root: '/',</span><br><span class="line">  dir: '/Users/devsawd/hello-world',</span><br><span class="line">  base: 'index.js',</span><br><span class="line">  ext: '.js',</span><br><span class="line">  name: 'index'</span><br><span class="line">&#125;</span><br><span class="line">=====================================================================================</span><br><span class="line">path.format(&#123;</span><br><span class="line">    dir: '/Users/devsawd/hello-world',</span><br><span class="line">    name: 'index',</span><br><span class="line">    ext: '.js',</span><br><span class="line">&#125;));: /Users/devsawd/hello-world/index.js</span><br><span class="line">=====================================================================================</span><br><span class="line">path.normalize('/Users/devsawd/hello-world/index.js') /Users/devsawd/hello-world/index.js</span><br><span class="line">=====================================================================================</span><br><span class="line">path.isAbsolute('/users') true</span><br><span class="line">path.isAbsolute('./home'): false</span><br><span class="line">=====================================================================================</span><br><span class="line">path.relative('/Users/devsawd/hello-world/index.js', '/Users'));:  ../../..</span><br><span class="line">__dirname: /Users/devsawd/hello-world</span><br><span class="line">path.join(__dirname, '..', '/Users', '.', 'devsawd'): /Users/devsawd/Users/devsawd</span><br><span class="line">path.resolve(__dirname, '..', '/Users', '.', 'devsawd'): /Users/devsawd</span><br></pre></td></tr></table></figure><h1 id="path-join"><a href="#path-join" class="headerlink" title="path.join()"></a>path.join()</h1><p>인자로 받은 경로들을 합쳐서 문자열 형태로 path를 리턴</p><h1 id="path-resolve"><a href="#path-resolve" class="headerlink" title="path.resolve()"></a>path.resolve()</h1><p>기본적으로 path.join과 같지만 오른쪽 인자부터 경로를 합쳐나가며 <code>/</code>를 만나면 절대경로로 인식하고 앞의 인자들을 무시<br>만약 <code>/</code>를 만나지 못한다면 <code>/현재경로/생성된경</code>로 형태로 결과 리턴</p>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Circular Linked List</title>
      <link href="/2020/06/05/Data-Structure-circular-linked-list/"/>
      <url>/2020/06/05/Data-Structure-circular-linked-list/</url>
      
        <content type="html"><![CDATA[<p><a href="https://docs.google.com/presentation/d/12zMa_KtpQRJjjA8uI1CBC6gNbYSJx-GKB3g677IsVy0/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a></p><p>원본 자료를 전체화면으로 보면 더 쉽게 볼 수 있어요!</p><img src="/2020/06/05/Data-Structure-circular-linked-list/02.png" class=""><br><a id="more"></a><img src="/2020/06/05/Data-Structure-circular-linked-list/03.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/04.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/05.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/06.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/07.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/08.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/09.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/10.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/11.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/12.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/13.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/14.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/15.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/16.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/17.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/18.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/19.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/20.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/21.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/22.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/23.png" class=""><br><img src="/2020/06/05/Data-Structure-circular-linked-list/24.png" class=""><br>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[GitLab] 백업과 복구</title>
      <link href="/2020/06/04/GitLab-backup-and-restore/"/>
      <url>/2020/06/04/GitLab-backup-and-restore/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/gitlab_logo.jpg" alt=""></p><p>이번 포스트에서는 Docker를 이용한 GitLab의 백업과 복구를 해보려합니다.<br>어렵고 복잡할 것 같았는데 의외로 간단히 복구가 되네요.</p><blockquote><p>뭔가 3부작 느낌인데..</p></blockquote><a id="more"></a><p>아래의 내용은 <a href="https://docs.gitlab.com/ee/raketasks/backup_restore.html" target="_blank" rel="noopener">GitLab 백업 공식 페이지</a>를 참고했습니다.</p><br><br><h2 id="백업-파일-생성"><a href="#백업-파일-생성" class="headerlink" title="백업 파일 생성"></a>백업 파일 생성</h2><p>먼저 실행중인 Docker GitLab의 데이터 백업 파일을 생성합니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> docker <span class="built_in">exec</span> -t gitlab gitlab-backup create</span></span><br><span class="line">2020-06-04 01:45:41 +0000 -- Dumping database ...</span><br><span class="line">Dumping PostgreSQL database gitlabhq_production ... [DONE]</span><br><span class="line">2020-06-04 01:46:12 +0000 -- done</span><br><span class="line">2020-06-04 01:46:12 +0000 -- Dumping repositories ...</span><br><span class="line">* devsawd/hello-world (@hashed/6b/86/6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b) ... [DONE]</span><br><span class="line">[SKIPPED] Wiki</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping uploads ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping builds ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping artifacts ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping pages ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping lfs objects ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- done</span><br><span class="line">2020-06-04 01:46:13 +0000 -- Dumping container registry images ...</span><br><span class="line">2020-06-04 01:46:13 +0000 -- [DISABLED]</span><br><span class="line">Creating backup archive: 1591235174_2020_06_04_13.0.3_gitlab_backup.tar ... done</span><br><span class="line">Uploading backup archive to remote storage  ... skipped</span><br><span class="line">Deleting tmp directories ... done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">done</span><br><span class="line">Deleting old backups ... skipping</span><br><span class="line">Warning: Your gitlab.rb and gitlab-secrets.json files contain sensitive data</span><br><span class="line">and are not included in this backup. You will need these files to restore a backup.</span><br><span class="line">Please back them up manually.</span><br><span class="line">Backup task is done.</span><br></pre></td></tr></table></figure><p>제가 생성한 hello-world 프로젝트도 보입니다.</p><br><br><h2 id="백업-파일-확인"><a href="#백업-파일-확인" class="headerlink" title="백업 파일 확인"></a>백업 파일 확인</h2><p>저는 docker-compose.yml에 volumes를 이용해 backups 폴더를 지정해놓았습니다.<br>이부분에 대해 이해가 안되는 분들은 <a href="https://dev-sawd.github.io/2020/05/30/MacOS-gitlab-with-docker/">Docker를 이용해 GitLab을 설치해보자</a>를 참고해주세요</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">volumes:</span><br><span class="line">  - '$GITLAB_HOME/gitlab/backups:/var/opt/gitlab/backups'</span><br></pre></td></tr></table></figure><p>backups 폴더로 이동해 백업 데이터가 잘 생성되었는지 확인해봅니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> <span class="built_in">cd</span> backups</span></span><br><span class="line">backups % ls</span><br><span class="line">1591235174_2020_06_04_13.0.3_gitlab_backup.tar</span><br><span class="line">backups %</span><br></pre></td></tr></table></figure><br><br><h2 id="GitLab-컨테이너-중지"><a href="#GitLab-컨테이너-중지" class="headerlink" title="GitLab 컨테이너 중지"></a>GitLab 컨테이너 중지</h2><p>백업 파일이 정상적으로 생성되었다면 실행중인 컨테이너를 종료합니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> docker stop gitlab</span></span><br></pre></td></tr></table></figure><br><br><h2 id="백업-파일-임시이동"><a href="#백업-파일-임시이동" class="headerlink" title="백업 파일 임시이동"></a>백업 파일 임시이동</h2><p>백업파일을 임시적으로 이동시킵니다.<br>저는 하나 상위 폴더인 gitlab 폴더로 이동시켰습니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backups % mv 1591235174_2020_06_04_13.0.3_gitlab_backup.tar ../</span><br></pre></td></tr></table></figure><br><br><h2 id="데이터-파일-삭제"><a href="#데이터-파일-삭제" class="headerlink" title="데이터 파일 삭제"></a>데이터 파일 삭제</h2><blockquote><p>주의!! 아래의 명령어는 모든 데이터를 삭제합니다.</p></blockquote><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">backups % cd ..</span><br><span class="line"><span class="meta">%</span><span class="bash"> rm -rf config backups data logs</span></span><br></pre></td></tr></table></figure><br><br><h2 id="GitLab-컨테이너-실행"><a href="#GitLab-컨테이너-실행" class="headerlink" title="GitLab 컨테이너 실행"></a>GitLab 컨테이너 실행</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> <span class="built_in">export</span> GITLAB_HOME=<span class="variable">$HOME</span> // Linux의 경우 /src</span></span><br><span class="line"><span class="meta">%</span><span class="bash"> docker-compose up -d</span></span><br></pre></td></tr></table></figure><br><br><h2 id="백업-파일-backups-폴더로-복구"><a href="#백업-파일-backups-폴더로-복구" class="headerlink" title="백업 파일 backups 폴더로 복구"></a>백업 파일 backups 폴더로 복구</h2><p>docker ps 명령어를 이용해 gitlab 컨테이너가 정상적으로 실행됐다면<br>gitlab 폴더로 임시 이동시켰던 백업파일을 다시 backups 폴더로 이동시킵니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> mv 1591235174_2020_06_04_13.0.3_gitlab_backup.tar backups</span></span><br></pre></td></tr></table></figure><br><br><h2 id="복구-시작"><a href="#복구-시작" class="headerlink" title="복구 시작"></a>복구 시작</h2><p>복구 실행 명령어를 실행합니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> docker <span class="built_in">exec</span> -it gitlab gitlab-backup restore</span></span><br><span class="line">Unpacking backup ... done</span><br><span class="line">Before restoring the database, we will remove all existing</span><br><span class="line">tables to avoid future upgrade problems. Be aware that if you have</span><br><span class="line">custom tables in the GitLab database these tables and all data will be</span><br><span class="line">removed.</span><br><span class="line"></span><br><span class="line">Do you want to continue (yes/no)? yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2020-06-04 01:59:16 +0000 -- done</span><br><span class="line">2020-06-04 01:59:16 +0000 -- Restoring repositories ...</span><br><span class="line">* devsawd/hello-world ... [DONE]</span><br><span class="line">2020-06-04 01:59:16 +0000 -- done</span><br><span class="line">2020-06-04 01:59:16 +0000 -- Restoring uploads ...</span><br><span class="line">2020-06-04 01:59:17 +0000 -- done</span><br><span class="line">2020-06-04 01:59:17 +0000 -- Restoring builds ...</span><br><span class="line">2020-06-04 01:59:17 +0000 -- done</span><br><span class="line">2020-06-04 01:59:17 +0000 -- Restoring artifacts ...</span><br><span class="line">2020-06-04 01:59:17 +0000 -- done</span><br><span class="line">2020-06-04 01:59:17 +0000 -- Restoring pages ...</span><br><span class="line">2020-06-04 01:59:17 +0000 -- done</span><br><span class="line">2020-06-04 01:59:17 +0000 -- Restoring lfs objects ...</span><br><span class="line">2020-06-04 01:59:17 +0000 -- done</span><br><span class="line">This task will now rebuild the authorized_keys file.</span><br><span class="line">You will lose any data stored in the authorized_keys file.</span><br><span class="line">Do you want to continue (yes/no)? yes</span><br><span class="line"></span><br><span class="line">Warning: Your gitlab.rb and gitlab-secrets.json files contain sensitive data</span><br><span class="line">and are not included in this backup. You will need to restore these files manually.</span><br><span class="line">Restore task is done.</span><br></pre></td></tr></table></figure><p>devsawd/hello-world 프로젝트도 복구되었다는 로그가 보입니다.</p><br><br><h2 id="로그인-후-확인"><a href="#로그인-후-확인" class="headerlink" title="로그인 후 확인"></a>로그인 후 확인</h2><img src="/2020/06/04/GitLab-backup-and-restore/1.png" class=""><p>root, devsawd 계정도 잘 살아있고 프로젝트도 정상적으로 복구되었습니다!</p><br><br><h2 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h2><p>명령어 몇번과 tar 복구파일 하나만으로 GitLab의 데이터들을 복구할 수 있었습니다.<br>일정 기간을 가지고 스냅샷을 찍듯 데이터를 백업하는 방법도 있는데…<br><del>~ 언제 하지? ~</del></p>]]></content>
      
      
      <categories>
          
          <category> GitLab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> GitLab </tag>
            
            <tag> Docker-Compose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[GitLab] 개인 저장소 연동 테스트</title>
      <link href="/2020/06/03/GitLab-create-personal-repository/"/>
      <url>/2020/06/03/GitLab-create-personal-repository/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/gitlab_logo.jpg" alt=""></p><p>지난 포스트 <a href="https://dev-sawd.github.io/2020/05/30/MacOS-gitlab-with-docker/">Docker를 이용해 GitLab을 설치해보자</a>로 GitLab을 설치한 후 정말 제대로 동작하는지 궁금해졌습니다.<br>이번 포스트에서는 저장소를 직접 생성해보고 연동 테스트를 해볼거예요.</p> <a id="more"></a><br><h2 id="저장소-생성"><a href="#저장소-생성" class="headerlink" title="저장소 생성"></a>저장소 생성</h2><img src="/2020/06/03/GitLab-create-personal-repository/1.png" class=""><p>GitLab에 로그인 후 [Create a project]를 클릭합니다.</p><br><br><img src="/2020/06/03/GitLab-create-personal-repository/2.png" class=""><p>프로젝트 이름을 적고 생성을 눌러줍니다.</p><br><br><img src="/2020/06/03/GitLab-create-personal-repository/3.png" class=""><p>정상적으로 생성되었네요.<br>빨간 박스를 참고해 아래의 스텝에서 저장소를 복제하도록 합니다.</p><br><br><h2 id="저장소-복제"><a href="#저장소-복제" class="headerlink" title="저장소 복제"></a>저장소 복제</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> %</span><span class="bash"> git <span class="built_in">clone</span> http://xxx.xxx.xxx.xxx/devsawd/hello-world.git</span></span><br><span class="line"></span><br><span class="line">Cloning into 'hello-world'...</span><br><span class="line">Username for 'http://xxx.xxx.xxx.xxx': devsawd@gmail.com</span><br><span class="line">Password for 'http://devsawd@gmail.com@xxx.xxx.xxx.xxx':</span><br><span class="line">warning: You appear to have cloned an empty repository.</span><br><span class="line"><span class="meta"> %</span><span class="bash"> <span class="built_in">cd</span> hello-world</span></span><br></pre></td></tr></table></figure><blockquote><p>빈 프로젝트를 복제한것이기 때문에 warning이 뜨니 가볍게 무시해줍니다.</p></blockquote><br><h2 id="README-md-파일-생성"><a href="#README-md-파일-생성" class="headerlink" title="README.md 파일 생성"></a>README.md 파일 생성</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> touch README.md</span></span><br></pre></td></tr></table></figure><br><h2 id="Commit-and-Push"><a href="#Commit-and-Push" class="headerlink" title="Commit and Push"></a>Commit and Push</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">hello-world % git add README.md</span><br><span class="line">hello-world % git commit -m "add README"</span><br><span class="line">[master (root-commit) 204db60] add README</span><br><span class="line">1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line">create mode 100644 README.md</span><br><span class="line"></span><br><span class="line">hello-world % git push -u origin master</span><br><span class="line">Username for 'http://xxx.xxx.xxx.xxx': devsawd@gmail.com</span><br><span class="line">Password for 'http://devsawd@gmail.com@xxx.xxx.xxx.xxx':</span><br><span class="line">Enumerating objects: 3, done.</span><br><span class="line">Counting objects: 100% (3/3), done.</span><br><span class="line">Writing objects: 100% (3/3), 212 bytes | 212.00 KiB/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To http://xxx.xxx.xxx.xxx/devsawd/hello-world.git</span><br><span class="line">* [new branch]      master -&gt; master</span><br><span class="line">Branch 'master' set up to track remote branch 'master' from 'origin'.</span><br></pre></td></tr></table></figure><br><h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><img src="/2020/06/03/GitLab-create-personal-repository/4.png" class=""><p>정상적으로 파일이 올라간것이 보입니다!<br>이제 집 밖의 어디에서든 개인 GitLab에 접근해서 사용할 수 있게 되었습니다.</p><p>다음에는 이 hello-world 프로젝트를 백업하고 GitLab Docker를 삭제하고 재구동했을때 복구가 되는지 확인해볼거예요.</p>]]></content>
      
      
      <categories>
          
          <category> GitLab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> GitLab </tag>
            
            <tag> Docker-Compose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Gitlab] Docker를 이용해 GitLab을 설치해보자</title>
      <link href="/2020/05/30/GitLab-gitlab-with-docker/"/>
      <url>/2020/05/30/GitLab-gitlab-with-docker/</url>
      
        <content type="html"><![CDATA[<br>당장은 아니지만 코드 저장소를 내부적으로 운영해야될 상황이 있을거라 생각합니다.그 저장소가 제 개인적인 저장소가 될지, 회사 내부를 저장소가 될지는 잘 모르겠습니다.그래서 Gitlab을 직접 설치해보고 정리해두려고 합니다.<a id="more"></a><p>GitLab은 위키와 이슈 추적 기능을 갖춘 웹 기반의 데브옵스 시스템입니다.<br>흔히 우리가 일고있는 Git 저장소로 많이 쓰이는 솔루션중 하나입니다.<br>과거 GitHub에서는 지원하지 않던 Private 저장소를 지원했기에 인기가 많았지만, 최근 GitHub에서도 Private를 지원하고 있어 이슈 추적 기능을 제외하면 기본기능에서는 많이 흡사합니다.<br>개인적인 선호는 GitHub이 단연 마음에 들지만 서두에 적은것 처럼 내부적으로 운영할 수 있도록 설치를 지원하는 GitLab에 정말 감사하고있습니다.</p><blockquote><p>내가 직접 저장소를 운영할 수 있다니.. 벌써부터 재밌네요. GitLab 만세!</p></blockquote><br><h1 id="설치-환경"><a href="#설치-환경" class="headerlink" title="설치 환경"></a>설치 환경</h1><p>GitLab은 Ubuntu, Debian, CentOS 8 심지어 Rasberry Pi2의 OS를 지원합니다.<br>클라우드도 AWS와 GCP는 물론 MS의 Azure까지..<br>설치 방법으로는 Docker와 소스를 통한 설치등 많은 환경을 지원합니다.</p><blockquote><p>이정도면 깃랩이 아니라 갓랩 아닙니까?</p></blockquote><p>저는 이 중에서 공식적으로 지원하지는 않지만 MacOS에 Docker를 이용해 공부용 맥북에 세팅해보려 합니다.</p><blockquote><p>Docker…. 또커…</p></blockquote><p>GitLab은 커뮤니티 버전(CE)과 엔터프라이즈 버전(EE)이 있는데 저는 커뮤니티 버전의 도커 이미지를 사용해 설치할겁니다.</p><p>Docker 이미지 설치 및 운영 방법은 크게 세가지로 아래와 같습니다.</p><ul><li>Docker Engine</li><li>Docker Compose</li><li>Docker Swwarm mode</li></ul><p>저는 이 중 Docker Compose를 이용해 설치 할겁니다.<br>설명이 장황하고 어려워 보이지만 막상 설치 스텝은 얼마 되지 않습니다.<br>곧 직접 설치한 GitLab에 접속할 수 있을겁니다. :)</p><br><h2 id="선수-조건"><a href="#선수-조건" class="headerlink" title="선수 조건"></a>선수 조건</h2><p>Docker Compose를 이용해 설치할 것이기 때문에 Docker와 Docker Compose가 설치되어 있어야 합니다.<br><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener">Docker 설치 링크</a><br><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">Docker Compose 설치 가이드 링크</a></p><br><h1 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h1><h2 id="docker-compose-yml-작성"><a href="#docker-compose-yml-작성" class="headerlink" title="docker-compose.yml 작성"></a>docker-compose.yml 작성</h2><p>저는 gitlab이라는 폴더를 만들어 이곳에서 GitLab의 데이터와 백업등 모든것을 관리할 겁니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir gitlab</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> gitlab</span></span><br></pre></td></tr></table></figure><p>gitlab 폴더 안에서 docker-compose.yml를 작성해 사용할 docker 이미지와 gitlab 운영에 관련된 환경세팅을 설정할 것입니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vi docker-compose.yml</span></span><br></pre></td></tr></table></figure><p>docker-compose.yml 내용</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">web:</span><br><span class="line">  image: 'gitlab/gitlab-ce:latest'</span><br><span class="line"><span class="meta">  #</span><span class="bash"> restart: always</span></span><br><span class="line">  container_name: 'gitlab'</span><br><span class="line">  hostname: '127.0.0.1'</span><br><span class="line">  environment:</span><br><span class="line">    GITLAB_OMNIBUS_CONFIG: |</span><br><span class="line">      external_url 'http://xxx.xxx.xxx.xxx' # 프로젝트 생성시 앞에 붙을 도메인 또는 IP</span><br><span class="line">      gitlab_rails['gitlab_shell_ssh_port'] = 2224</span><br><span class="line">      # Add any other gitlab.rb configuration here, each on its own line</span><br><span class="line">  ports:</span><br><span class="line">    - '80:80'</span><br><span class="line">    - '443:443'</span><br><span class="line">    - '10022:22' # port 충돌 방지로 외부 포트 10022를 docker 내부포트 22로 연결</span><br><span class="line">  volumes:</span><br><span class="line">    - '$GITLAB_HOME/gitlab/config:/etc/gitlab'</span><br><span class="line">    - '$GITLAB_HOME/gitlab/logs:/var/log/gitlab'</span><br><span class="line">    - '$GITLAB_HOME/gitlab/data:/var/opt/gitlab'</span><br><span class="line">    - '$GITLAB_HOME/gitlab/backups:/var/opt/gitlab/backups'</span><br></pre></td></tr></table></figure><p>간단히 설명하자면 최신 버전의 gitlab ce 이미지를 사용할 것이고 (지금은 주석이지만)오류로 인해 docker container가 내려갈 경우 다시 재시작할 수 있도록 설정했습니다.<br>호스트 이름은 로컬 호스트인 127.0.0.1, 프로젝트 생성시 외부 접속 가능한 도메인을 설정했습니다.<br>이외 ports는 외부 port와 docker container 내부 port를 매핑해주는 것이고 외부 22번 포트를 그냥 사용할 경우 ssh와 충돌이 일어나기 때문에 10022를 사용했습니다.<br>volumes는 실제 로컬 폴더와 docker container 내부의 폴더를 매핑해 주는 것으로 gitlab docker container에서 만들어진 데이터나 파일들을 로컬에서 접근할 수 있게, 또는 반대로도 가능하도록 연결해줍니다.</p><br><h2 id="docker-compose-실행"><a href="#docker-compose-실행" class="headerlink" title="docker compose 실행"></a>docker compose 실행</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> GITLAB_HOME=<span class="variable">$HOME</span> // Linux의 경우 /src</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker-compose up -d</span></span><br></pre></td></tr></table></figure><br><h2 id="정상-실행-확인"><a href="#정상-실행-확인" class="headerlink" title="정상 실행 확인"></a>정상 실행 확인</h2><p>GitLab 이미지가 다운되고 done이라고 로그는 찍혀있지만 실제 내부가 완전히 구동되기 까지는 시간이 오래걸립니다.<br>제 구형 맥북 기준으로 7분정도가 소요되는것으로 확인됐습니다.</p><p>그래서 잘 구동되고 있는지 Docker 로그를 확인해야겠네요.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker logs -f gitlab</span></span><br></pre></td></tr></table></figure><p>구동이 어느정도 진행되고 프로메테우스 또는 프로덕션 로그가 올라오면 구동에 성공했다고 볼 수 있습니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">==&gt; /var/log/gitlab/gitlab-rails/production.log &lt;==</span><br><span class="line">Started GET "/-/metrics" for 127.0.0.1 at 2020-05-30 05:56:55 +0000</span><br><span class="line">Processing by MetricsController#index as HTML</span><br><span class="line">Completed 200 OK in 13ms (Views: 1.4ms | ActiveRecord: 0.0ms | Elasticsearch: 0.0ms | Allocations: 710)</span><br><span class="line"></span><br><span class="line">==&gt; /var/log/gitlab/gitlab-rails/sidekiq_exporter.log &lt;==</span><br><span class="line">[2020-05-30T05:56:59.927+0000] 127.0.0.1 - - [30/May/2020:05:56:59 UTC] "GET /metrics HTTP/1.1" 200 9863 "-" "Prometheus/2.16.0"</span><br></pre></td></tr></table></figure><p>이제 컨트롤 + C를 눌러 로그에서 빠져 나옵니다.</p><p>docker ps 명령어로 현재 잘 구동되고있는지 확인해줍니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                     COMMAND             CREATED             STATUS                    PORTS                                                             NAMES</span><br><span class="line">ce25f2d0adad        gitlab/gitlab-ce:latest   "/assets/wrapper"   17 minutes ago      Up 17 minutes (healthy)   0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:10022-&gt;22/tcp   gitlab</span><br></pre></td></tr></table></figure><p>STATUS에 Up 타임과 healthy로 나온다면 축하드립니다.<br>구동에 성공했어요!</p><br><h2 id="설치한-GitLab-사이트-접속"><a href="#설치한-GitLab-사이트-접속" class="headerlink" title="설치한 GitLab 사이트 접속"></a>설치한 GitLab 사이트 접속</h2><p>이제 웹페이지로 접속 해 봅시다.<br>브라우저를 실행해 <a href="http://127.0.0.1" target="_blank" rel="noopener">http://127.0.0.1</a> 접속해 봅니다.</p><p>화면이 정상적으로 보인다면 root 비밀번호를 설정해야합니다.</p><p>sign in에서 root와 설정한 비밀번호로 로그인합니다.</p><p>관리자 계정으로 로그인 완료!!</p><br><h1 id="이외-설정"><a href="#이외-설정" class="headerlink" title="이외 설정"></a>이외 설정</h1><p>혼자 사용할 때는 회원가입 기능이 필요 없기 때문에 비활성화 시켜놓을 필요가 있습니다.</p><p>상단의 Admin Area 아이콘을 눌러 관리자 페이지에 들어갑니다.</p><p>좌측 메뉴 Settings &gt; General &gt; Sign-up restrictions &gt; Sign-up enabled 체크 해제 &gt; 하단 Save changes 클릭</p><br><h2 id="회원-가입-기능-비활성화"><a href="#회원-가입-기능-비활성화" class="headerlink" title="회원 가입 기능 비활성화"></a>회원 가입 기능 비활성화</h2><p>Admin Area 대쉬보드의 New user를 통해 회원가입을 시킬 수 있습니다.</p><br><h1 id="처음부터-다시-세팅"><a href="#처음부터-다시-세팅" class="headerlink" title="처음부터 다시 세팅"></a>처음부터 다시 세팅</h1><p>설치가 제대로 되지 않아 처음부터 다시 세팅하고 싶을 때가 있습니다.</p><p>현재 구동중인 GitLab 컨테이너 중지</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker stop gitlab</span></span><br></pre></td></tr></table></figure><p>GitLab 데이터 파일 삭제</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm -rf config data logs</span></span><br></pre></td></tr></table></figure><p>백업 파일 삭제</p><blockquote><p>주의! 아래의 명령어는 백업 데이터를 모두 삭제합니다.</p></blockquote><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm -rf backups</span></span><br></pre></td></tr></table></figure><p>세팅 변경 후 재 구동을 진행하면 됩니다.</p><br><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>실제로 운영하기에는 세부 설정을 더 만져야 하지만 처음부터 설치하는 분들에게 도움이 되었으면 좋겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> GitLab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> GitLab </tag>
            
            <tag> Docker-Compose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Linked List ADT</title>
      <link href="/2020/05/30/Data-Structure-linked-list-adt/"/>
      <url>/2020/05/30/Data-Structure-linked-list-adt/</url>
      
        <content type="html"><![CDATA[<p><a href="https://docs.google.com/presentation/d/1H4IdZrSujjNVlii_uG_20FY5CyuCB07hSyaMGdr5rso/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a></p><img src="/2020/05/30/Data-Structure-linked-list-adt/02.png" class=""><br><a id="more"></a><img src="/2020/05/30/Data-Structure-linked-list-adt/03.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/04.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/05.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/06.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/07.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/08.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/09.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/10.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/11.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/12.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/13.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/14.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/15.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/16.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/17.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/18.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/19.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/20.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/21.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/22.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/23.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/24.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/25.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/26.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/27.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/28.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/29.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/30.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/31.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/32.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/33.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/34.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/35.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/36.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/37.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/38.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/39.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/40.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/41.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/42.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/43.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/44.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/45.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/46.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/47.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/48.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/49.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/50.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/51.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/52.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/53.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/54.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/55.png" class=""><br><img src="/2020/05/30/Data-Structure-linked-list-adt/56.png" class=""><br>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Hyperledger Fabric] 윈도우10에서 Docker를 이용한 fabric-samples 실행</title>
      <link href="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/"/>
      <url>/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/hyperledger_fabric_logo.png" alt=""></p><p>Windows10에 docker를 이용한 Hyperledger Fabric Samples를 구동하는 방법을 포스팅합니다.</p><a id="more"></a><h1 id="6개월-전에"><a href="#6개월-전에" class="headerlink" title="6개월 전에.."></a>6개월 전에..</h1><p>설치 시도했다가 오류로 인해 실패했습니다.. ㅜㅜ<br>현재 개발을 Windows에서 진행하고 있는데 체인코드 개발을 Fabric 네트워크가 설치된 장비에 FTP로 올리고 명령어로 실행하고..<br>오류 부분 확인해서 수정후 또 FTP로 올리고 명령어로 실행하고 이런 귀찮음을 방지하고 Windows에서 간단한 Fabric 네트워크를 구성하고 FTP로 올리는 귀찮음을 덜면 정말 좋겠다라고 생각했습니다.<br>6개월 전에 실패한 설치기를 다시 시도해보고 성공 결과를 올립니다.</p><br><br><h2 id="Docker-설치"><a href="#Docker-설치" class="headerlink" title="Docker 설치"></a>Docker 설치</h2><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/docker_logo.png" class="" width="200"><p><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">https://www.docker.com/products/docker-desktop</a><br>windows stable 버전으로 다운로드합니다.<br>설치 진행중 [윈도우의 Hyper-V 기능 사용]에 체크 후 설치 합니다.</p><br><br><h2 id="Hyper-V-설정"><a href="#Hyper-V-설정" class="headerlink" title="Hyper-V 설정"></a>Hyper-V 설정</h2><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/hyper-v.png" class="" width="400"><p>제어판 &gt; Windows 기능 켜기/끄기 &gt;  Hyper-V 체크 &gt; 컴퓨터 재부팅</p><br><br><h2 id="Docker-실행"><a href="#Docker-실행" class="headerlink" title="Docker 실행"></a>Docker 실행</h2><p>설치한 Docker를 실행합니다.<br>이때 앞선 단계에서 Hyper-V를 설정했음에도 불구하고 Hyper-V를 사용할 수 없다는 팝업과 함께 Docker가 실행되지 않는다면 BIOS에서 가상화 기능이 켜져있는지 확인해야합니다.<br>가상화 기능 enable/disable는 메인보드 제조사마다 조금 상이하니 확인바랍니다.<br>Docker 실행에 성공하면 작업표시줄 트레이에 고래가 컨테이너를 싣고있는 아이콘 트레이가 생깁니다.</p><br><br><h2 id="Go언어-설치"><a href="#Go언어-설치" class="headerlink" title="Go언어 설치"></a>Go언어 설치</h2><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/golang_logo.png" class="" width="200"><p><a href="https://golang.org/dl/" target="_blank" rel="noopener">https://golang.org/dl/</a><br>1.14.3 버전을 설치했습니다.<br>큰 문제 없이 Next만 누르면 설치 가능합니다.</p><br><br><h3 id="GO-환경설정"><a href="#GO-환경설정" class="headerlink" title="GO 환경설정"></a>GO 환경설정</h3><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/env.png" class="" width="500"><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/env2.png" class="" width="500"><p>시작 &gt; 시스템 환경 변수 편집(검색하면 쉽게 찾을 수 있음) &gt; 하단의 환경변수 &gt; {사용자 이름}에 대한 사용자 변수 &gt; GOPATH 확인</p><p>GOPATH가 없다면 [새로만들기]를 이용해 추가합니다.<br>변수 : GOPATH<br>값 : C:\Users{사용자 이름}\go</p><blockquote><p>1.14.3을 설치하니 자동으로 등록이 돼있었습니다.</p></blockquote><br><br><h2 id="Node-js-설치"><a href="#Node-js-설치" class="headerlink" title="Node.js 설치"></a>Node.js 설치</h2><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/node.js_logo.png" class="" width="200"><p><a href="https://nodejs.org/ko/" target="_blank" rel="noopener">https://nodejs.org/ko/</a><br>12.17.0 LTS 버전을 설치했습니다.<br>마찬가지로 Next만 누르면 설치 가능합니다.</p><br><br><h2 id="Git-설치"><a href="#Git-설치" class="headerlink" title="Git 설치"></a>Git 설치</h2><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/git_logo.png" class="" width="200"><p><a href="https://git-scm.com/" target="_blank" rel="noopener">https://git-scm.com/</a><br>Windows에서는 cmd(커맨드)창에서 명령어를 실행하는게 아닌 Git Bash를 이용해 아래의 명령어를 실행합니다.<br>따라서 Git Bash를 설치하기 위해 git을 설치합니다.<br>2.26.2 버전을 설치했고 옵션은 따로 건드리지 않고 기본옵션을 사용했습니다.</p><br><br><h3 id="git-환경설정"><a href="#git-환경설정" class="headerlink" title="git 환경설정"></a>git 환경설정</h3><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global core.autocrlf <span class="literal">false</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global core.longpaths <span class="literal">true</span></span></span><br></pre></td></tr></table></figure><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/git_env.png" class="" width="600"><p>Linux와 Windows의 개행문자와 긴 경로에 대한 설정인데 이해하지 않고 명령어 실행후 잘 설정되었는지 확인만 하고 넘어가도 무방합니다.</p><br><br><h3 id="컴퓨터-재부팅"><a href="#컴퓨터-재부팅" class="headerlink" title="컴퓨터 재부팅"></a>컴퓨터 재부팅</h3><p>설정들이 적용될 수 있도록 재부팅을 한번 합니다.</p><br><br><h2 id="Git-Bash-실행"><a href="#Git-Bash-실행" class="headerlink" title="Git Bash 실행"></a>Git Bash 실행</h2><p>시작 &gt; Git Bash &gt; 우클릭 &gt; 자세히 &gt; 관리자 권한으로 실행<br>아래의 순서들은 모두 Git Bash에서 실행합니다.<br><br><br><br></p><h3 id="windows-build-tools-설치"><a href="#windows-build-tools-설치" class="headerlink" title="windows-build-tools 설치"></a>windows-build-tools 설치</h3><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install --global windows-build-tools</span></span><br></pre></td></tr></table></figure><p>windows-build-tools를 설치합니다.</p><blockquote><p>이때 Successfully installed Python 2.7 이라는 메세지가 나오고 프로세스는 끝나지 않는데 강제종료했습니다.</p></blockquote><br><br><h3 id="grpc-설치"><a href="#grpc-설치" class="headerlink" title="grpc 설치"></a>grpc 설치</h3><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/grpc_logo.png" class="" width="200"><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install --global grpc</span></span><br></pre></td></tr></table></figure><p>grpc를 설치합니다.</p><br><br><h2 id="fabric-samples-설치"><a href="#fabric-samples-설치" class="headerlink" title="fabric-samples 설치"></a>fabric-samples 설치</h2><br><br><br><img src="/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/fabric_logo.png" class="" width="300"><br><br><br><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -sSL https://bit.ly/2ysbOFE | bash -s</span></span><br></pre></td></tr></table></figure><p>version을 명시하면 원하는 버전의 fabric을 받을 수 있습니다.</p><blockquote><p>curl -sSL <a href="https://bit.ly/2ysbOFE" target="_blank" rel="noopener">https://bit.ly/2ysbOFE</a> | bash -s 1.4.3</p></blockquote><br><br><h2 id="실행"><a href="#실행" class="headerlink" title="실행"></a>실행</h2><p>설치가 완료되었으니 basic-network를 실행해봅시다</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> fabric-samples/basic-network</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./start.sh</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> don<span class="string">'t rewrite paths for Windows Git Bash users</span></span></span><br><span class="line">export MSYS_NO_PATHCONV=1</span><br><span class="line"></span><br><span class="line">docker-compose -f docker-compose.yml down</span><br><span class="line">Removing network net_basic</span><br><span class="line">Network net_basic not found.</span><br><span class="line"></span><br><span class="line">docker-compose -f docker-compose.yml up -d ca.example.com orderer.example.com peer0.org1.example.com couchdb</span><br><span class="line">Creating network "net_basic" with the default driver</span><br><span class="line">Creating couchdb             ... done</span><br><span class="line">Creating ca.example.com      ... done</span><br><span class="line">Creating orderer.example.com ... done</span><br><span class="line">Creating peer0.org1.example.com ... done</span><br><span class="line">docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE                        COMMAND                  CREATED                  STATUS                  PORTS                                            NAMES</span><br><span class="line">2ca1a7ca4131        hyperledger/fabric-peer      "peer node start"        Less than a second ago   Up Less than a second   0.0.0.0:7051-&gt;7051/tcp, 0.0.0.0:7053-&gt;7053/tcp   peer0.org1.example.com</span><br><span class="line">c3065525760f        hyperledger/fabric-orderer   "orderer"                2 seconds ago            Up 2 seconds            0.0.0.0:7050-&gt;7050/tcp                           orderer.example.com</span><br><span class="line">756f03161e5f        hyperledger/fabric-ca        "sh -c 'fabric-ca-se…"   10 seconds ago           Up 10 seconds           0.0.0.0:7054-&gt;7054/tcp                           ca.example.com</span><br><span class="line">e4dc3f6c1e35        hyperledger/fabric-couchdb   "tini -- /docker-ent…"   19 seconds ago           Up 19 seconds           4369/tcp, 9100/tcp, 0.0.0.0:5984-&gt;5984/tcp       couchdb</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">wait</span> <span class="keyword">for</span> Hyperledger Fabric to start</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> incase of errors when running later commands, issue <span class="built_in">export</span> FABRIC_START_TIMEOUT=&lt;larger number&gt;</span></span><br><span class="line">export FABRIC_START_TIMEOUT=10</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">echo</span> <span class="variable">$&#123;FABRIC_START_TIMEOUT&#125;</span></span></span><br><span class="line">sleep $&#123;FABRIC_START_TIMEOUT&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Create the channel</span></span><br><span class="line">docker exec -e "CORE_PEER_LOCALMSPID=Org1MSP" -e "CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/msp/users/Admin@org1.example.com/msp" peer0.org1.example.com peer channel create -o orderer.example.com:7050 -c mychannel -f /etc/hyperledger/configtx/channel.tx</span><br><span class="line">2020-05-30 00:28:15.276 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized</span><br><span class="line">2020-05-30 00:28:15.300 UTC [cli.common] readBlock -&gt; INFO 002 Received block: 0</span><br><span class="line"><span class="meta">#</span><span class="bash"> Join peer0.org1.example.com to the channel.</span></span><br><span class="line">docker exec -e "CORE_PEER_LOCALMSPID=Org1MSP" -e "CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/msp/users/Admin@org1.example.com/msp" peer0.org1.example.com peer channel join -b mychannel.block</span><br><span class="line">2020-05-30 00:28:15.621 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized</span><br><span class="line">2020-05-30 00:28:15.723 UTC [channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to join channel</span><br></pre></td></tr></table></figure><p>채널 조인까지 완료되는 것을 볼 수 있습니다.</p><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>정리하고 보니 생각보다 이것저것 설치해야 할 것들이 많네요.<br>확실한건 Mac이나 Linux가 개발자들에게는 이런 불편함들을 어느정도 해소해줄 수 있는 OS이지 않을까 싶습니다.<br>이 포스트는 정말 Windows에서 환경구축이 필요해 임시적으로 쓰는 분들에게는 도움이 될 수 있을것 같습니다.</p>]]></content>
      
      
      <categories>
          
          <category> Hyperledger Fabric </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> Windows </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Hyperledger Fabric] fabric 버전을 확인하는 방법</title>
      <link href="/2020/05/29/Hyperledger-Fabric-how-to-check-fabric-version/"/>
      <url>/2020/05/29/Hyperledger-Fabric-how-to-check-fabric-version/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/hyperledger_fabric_logo.png" alt=""></p><p>지난번 포스트에서 Windows10에 docker와 hyperledger fabric samples 실행을 성공했다고 언급한적이 있습니다.<br>그리고는 제대로 테스트하기 위해서 제 github에 올라가있는 <a href="https://github.com/dev-sawd/hyperledger-fabric-basic-network" target="_blank" rel="noopener">basic-netowrk</a>를 다운받아 실행했습니다.<br>항상 공부용 맥북에서만 개발,테스트 후 원격 저장소에 푸쉬했기 때문에 Windows에서도 문제없이 돌아갈지 궁금했거든요.</p><a id="more"></a><p>start.sh로 실행했는데.. 시작부터 에러가 발생합니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./start.sh</span></span><br><span class="line">org1.example.com</span><br><span class="line">2020-05-29 11:56:21.048 KST [common.tools.configtxgen] main -&gt; FATA 001 Missing channelID, please specify it with '-channelID'</span><br><span class="line">2020-05-29 11:56:21.116 KST [common.tools.configtxgen] main -&gt; INFO 001 Loading configuration</span><br><span class="line">2020-05-29 11:56:21.142 KST [common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: C:\Users\KimYongTaek\hyperledger-fabric-basic-network\configtx.yaml</span><br><span class="line">2020-05-29 11:56:21.142 KST [common.tools.configtxgen] doOutputChannelCreateTx -&gt; INFO 003 Generating new channel configtx</span><br><span class="line">2020-05-29 11:56:21.142 KST [common.tools.configtxgen] main -&gt; FATA 004 Error on outputChannelCreateTx: could not generate default config template: error parsing configuration: error adding policies to channel group: no policies defined</span><br><span class="line">2020-05-29 11:56:21.189 KST [common.tools.configtxgen] main -&gt; INFO 001 Loading configuration</span><br><span class="line">2020-05-29 11:56:21.225 KST [common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: C:\Users\KimYongTaek\hyperledger-fabric-basic-network\configtx.yaml</span><br><span class="line">2020-05-29 11:56:21.225 KST [common.tools.configtxgen] doOutputAnchorPeersUpdate -&gt; INFO 003 Generating anchor peer update</span><br><span class="line">2020-05-29 11:56:21.225 KST [common.tools.configtxgen] main -&gt; FATA 004 Error on inspectChannelCreateTx: error parsing profile as ch</span><br></pre></td></tr></table></figure><blockquote><p>그럼 그렇지.. 쉽게 될리가..</p></blockquote><p>에러 로그는 configtxgen을 실행하면서 <code>-channelID</code> 인자를 넣어주지 않아서 생기는 문제였습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">configtxgen -profile OneOrgOrdererGenesis -outputBlock .&#x2F;config&#x2F;genesis.block</span><br></pre></td></tr></table></figure><p>configtxgen 명령어를 뚫어져라 쳐다보고있는데..</p><blockquote><p>어? 이상하다..</p></blockquote><p>configtxgen의 위치를 찾아보니 최신 버전으로 설치한 fabric-samples/bin안에 있는 파일을 참조하고 있었습니다.<br>최신 fabric 버전과 구버전 실행 스크립트간의 버전 불일치로 발생한 문제로 보입니다.<br>맥북의 fabric-samples는 5개월 전쯤에 1.4버전대로 설치한것으로 기억합니다.</p><p>설치한 fabric의 버전을 알기 위해 맥북(MacOs)과 데스크탑(Windows)의 cryptogen의 version을 확인해봅니다.</p><p>MacOs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">% cd fabric-samples&#x2F;bin</span><br><span class="line">bin % .&#x2F;cryptogen version</span><br><span class="line">cryptogen:</span><br><span class="line"> Version: 1.4.3</span><br><span class="line"> Commit SHA: b8c4a6a</span><br><span class="line"> Go version: go1.11.5</span><br><span class="line"> OS&#x2F;Arch: darwin&#x2F;amd64</span><br></pre></td></tr></table></figure><p>Windows</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cd fabric-samples&#x2F;bin</span><br><span class="line">$ cryptogen version</span><br><span class="line">cryptogen:</span><br><span class="line"> Version: 2.1.0</span><br><span class="line"> Commit SHA: 1bdf97537</span><br><span class="line"> Go version: go1.14.1</span><br><span class="line"> OS&#x2F;Arch: windows&#x2F;amd64</span><br></pre></td></tr></table></figure><p>역시 예상한 대로 버전이 상이합니다.</p><p>Windows에 깔려있는 fabric-samples를 1.4.3버전으로 재설치 후 다시 실행해보니 정상 작동합니다.</p><blockquote><p>야호!</p></blockquote><p>이제 basic-network의 fabric-samples/bin 폴더의 의존성을 끊기 위해 1.4.3버전의 bin 폴더를 basic-network안에 복사해 넣고<br>start.sh의 bin폴더 경로를 방금 복사한 1.4.3 버전의 bin 폴더로 지정했습니다.<br>앞으로 다른 환경에서도 잘 동작할겁니다 :)</p>]]></content>
      
      
      <categories>
          
          <category> Hyperledger Fabric </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] URL, URI</title>
      <link href="/2020/05/27/ETC-URL-URI/"/>
      <url>/2020/05/27/ETC-URL-URI/</url>
      
        <content type="html"><![CDATA[<p>개발을 하다보면, 개발자들끼리 얘기 하다보면 URL이 자주 등장합니다.<br>그리고 문서나 stackoverflow를 이용하다 보면 URI라는 단어도 심심치 않게 보입니다.<br>아직까지 정확히 URL과 URI에 대해 차이점을 명확히 모르는 관계로 정리해보려 합니다.</p><a id="more"></a><h1 id="URL-Uniform-Resource-Locator"><a href="#URL-Uniform-Resource-Locator" class="headerlink" title="URL : Uniform Resource Locator"></a>URL : Uniform Resource Locator</h1><blockquote><p>ex. <a href="http://github.com/" target="_blank" rel="noopener">http://github.com/</a></p></blockquote><h1 id="URI-Uniform-Resource-Identifier"><a href="#URI-Uniform-Resource-Identifier" class="headerlink" title="URI : Uniform Resource Identifier"></a>URI : Uniform Resource Identifier</h1><p>URL 이하의 식별자까지 포함</p><blockquote><p>ex. <a href="http://github.com/devsawd" target="_blank" rel="noopener">http://github.com/devsawd</a><br>ex. <a href="http://github.com/test" target="_blank" rel="noopener">http://github.com/test</a></p></blockquote><p>URI 예시인 <a href="http://github.com/devsawd" target="_blank" rel="noopener">http://github.com/devsawd</a> 와 <a href="http://github.com/test" target="_blank" rel="noopener">http://github.com/test</a> 를 보면<br>URL은 <a href="http://github.com/" target="_blank" rel="noopener">http://github.com/</a> 으로 같고<br>URI는 각각 <a href="http://github.com/devsawd" target="_blank" rel="noopener">http://github.com/devsawd</a>, <a href="http://github.com/test" target="_blank" rel="noopener">http://github.com/test</a> 이 됩니다.</p><h1 id="현실은"><a href="#현실은" class="headerlink" title="현실은"></a>현실은</h1><p>??? : 주소 줘봐<br>!!! : <a href="http://github.com/devsawd" target="_blank" rel="noopener">http://github.com/devsawd</a></p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] address already in use error</title>
      <link href="/2020/05/26/ETC-address-already-in-use-error/"/>
      <url>/2020/05/26/ETC-address-already-in-use-error/</url>
      
        <content type="html"><![CDATA[<p>포스트 작성을 위해 hexo server로 프로세스로 돌고있던 터미널을 강제로 종료했습니다.<br>이후 hexo server를 실행하려 하는데 <code>address already in use</code> 에러가 발생했습니다.</p><p>간단히 이 에러를 해결해봅시다.</p><a id="more"></a><p>에러 전문은 아래와 같습니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> hexo server</span></span><br><span class="line">AL Port 4000 has been used. Try other port instead.</span><br><span class="line">FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: listen EADDRINUSE: address already in use :::4000</span><br><span class="line">    at Server.setupListenHandle [as _listen2] (net.js:1309:16)</span><br><span class="line">    at listenInCluster (net.js:1357:12)</span><br><span class="line">    at Server.listen (net.js:1445:7)</span><br><span class="line">    at /Users/devsawd/blog/node_modules/hexo-server/lib/server.js:69:12</span><br><span class="line">    at Promise._execute (/Users/devsawd/blog/node_modules/bluebird/js/release/debuggability.js:384:9)</span><br><span class="line">    at Promise._resolveFromExecutor (/Users/devsawd/blog/node_modules/bluebird/js/release/promise.js:518:18)</span><br><span class="line">    at new Promise (/Users/devsawd/blog/node_modules/bluebird/js/release/promise.js:103:10)</span><br><span class="line">    at checkPort (/Users/devsawd/blog/node_modules/hexo-server/lib/server.js:66:10)</span><br><span class="line">    at Hexo.module.exports (/Users/devsawd/blog/node_modules/hexo-server/lib/server.js:18:10)</span><br><span class="line">    at Hexo.tryCatcher (/Users/devsawd/blog/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Hexo.&lt;anonymous&gt; (/Users/devsawd/blog/node_modules/bluebird/js/release/method.js:15:34)</span><br><span class="line">    at /Users/devsawd/blog/node_modules/hexo/lib/hexo/index.js:248:17</span><br><span class="line">    at Promise._execute (/Users/devsawd/blog/node_modules/bluebird/js/release/debuggability.js:384:9)</span><br><span class="line">    at Promise._resolveFromExecutor (/Users/devsawd/blog/node_modules/bluebird/js/release/promise.js:518:18)</span><br><span class="line">    at new Promise (/Users/devsawd/blog/node_modules/bluebird/js/release/promise.js:103:10)</span><br><span class="line">    at Hexo.call (/Users/devsawd/blog/node_modules/hexo/lib/hexo/index.js:244:12)</span><br><span class="line">    at /usr/local/lib/node_modules/hexo-cli/lib/hexo.js:67:17</span><br><span class="line">    at tryCatcher (/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird/js/release/util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird/js/release/promise.js:547:31)</span><br><span class="line">    at Promise._settlePromise (/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird/js/release/promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird/js/release/promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (/usr/local/lib/node_modules/hexo-cli/node_modules/bluebird/js/release/promise.js:729:18)</span><br></pre></td></tr></table></figure><p>에러 내용은 4000번 포트가 이미 사용되고 있다는겁니다.<br>4000번 포트를 사용중인 프로세스를 먼저 찾아봐야겠네요.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> lsof -i :4000</span></span><br><span class="line">COMMAND   PID    USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME</span><br><span class="line">node    43609 devsawd   42u  IPv6 0x1a23ef236800be15      0t0  TCP *:terabase (LISTEN)</span><br></pre></td></tr></table></figure><p>PID의 43609번이 사용중으로 확인됩니다.<br>kill 명령어로 해당 프로세스를 종료시킨 후</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash">  <span class="built_in">kill</span> -9 43609</span></span><br></pre></td></tr></table></figure><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash">  hexo server</span></span><br></pre></td></tr></table></figure><p>hexo server 명령어를 이용해 재구동 하니 정상적으로 사용할 수 있습니다.</p><p><code>address already in use</code>에러는 port를 사용하는 프로세스를 다룰때 자주 볼 수 있는 에러입니다.<br>간단히 해당 프로세스를 종료시켜 문제를 해결할 수 있습니다.</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HEXO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[MacOS] 개발 공부를 위한 원격 개발환경 세팅</title>
      <link href="/2020/05/25/MacOS-remote-access-for-dev-study/"/>
      <url>/2020/05/25/MacOS-remote-access-for-dev-study/</url>
      
        <content type="html"><![CDATA[<p>10년 다된 구형 맥북을 보유하고 있습니다.<br>2년 전 부터 이걸 어떻게 활용하면 좋을지 꾸준히 고민했었죠.<br>메인으로 쓰기엔 성능이 떨어지고..<br>그냥 두기에는 뭔가 아까운..</p><blockquote><p>이 계륵뇨속!</p></blockquote><a id="more"></a><h1 id="전쟁의-서막"><a href="#전쟁의-서막" class="headerlink" title="전쟁의 서막"></a>전쟁의 서막</h1><p>최근에 블록체인 Hyperledger Fabric 네트워크를 공부하면서 개발용 장비가 있었으면 했습니다.<br><del>윈도우 노트북이 있긴 한데 무슨 이유에서인지 Hyperledger Fabric 개발 환경 구성이 잘 진행되지 않더라구요.</del></p><blockquote><p>윈도우10에서 개발환경 구성에 성공했습니다.<br>가이드도 시간내서 포스팅할게요!<br><a href="https://dev-sawd.github.io/2020/05/29/Hyperledger-Fabric-run-fabric-samples-on-windows10/">가이드 링크</a></p></blockquote><p>물론 회사에 얘기해서 적절한 개발용 장비를 받아도 됐지만..<br>마음대로 사용할 수 없는게 조금 답답합니다.<br>퇴근때는 꺼놔야 했고, 뭔가 이리 저리 만질 수 없다는 단점이 있었습니다.</p><p>이때 생각난 것이 10년된 맥북.<br>공부용이기 때문에 성능이 좋을 필요도 없고 마음대로 변경할 수 있는게 아주 딱이였습니다.<br>이번에 구형 맥북을 공부용으로 써보고자 세팅한 이야기를 하려고 합니다.</p><h1 id="문제의-맥북"><a href="#문제의-맥북" class="headerlink" title="문제의 맥북"></a>문제의 맥북</h1><p>먼저 10년된 구형 맥북의 사진.</p><img src="/2020/05/25/MacOS-remote-access-for-dev-study/1.jpg" class=""><p>두께가 어마어마한 만큼 무게도 상당합니다.<br>따라서 들고다니기에는 무리가 있어 어느 자리에 위치시켜 놓고 원격으로 접속하는게 좋을 것 같다는 생각이 들었습니다.<br>제 방에 와이파이에서 멀지 않은 넓은 공간에 위치 시키고 충전 케이블을 항상 꽂아두었습니다.</p><h1 id="우리집-네트워크-구성도"><a href="#우리집-네트워크-구성도" class="headerlink" title="우리집 네트워크 구성도"></a>우리집 네트워크 구성도</h1><p>이제 네트워크를 설정해야 하는데 우리집은 기본적으로 개발자가 두명에 사용하는 기기도 엄청 많아 고민해야 했습니다.</p><img src="/2020/05/25/MacOS-remote-access-for-dev-study/1.png" class=""><p>먼저 외부에서 <code>유선 공유기(1)</code>로 네트워크가 들어옵니다.<br>이 <code>유선 공유기(1)</code>에서 제방, 동생 방의 <code>유무선 공유기(2, 3)</code>로 각각 들어갑니다.<br>제 방의 <code>유무선 공유기(2)</code>는 유선으로 데스크탑, 무선으로 구형 맥북에 연결될 예정이였습니다.<br>동생 방의 <code>유무선 공유기(3)</code>에서는 다시 안방으로 선이 들어가고, 안방에서는 거실로…(사실 여기까지 고민할 필요는 없어 보이지만..)</p><h1 id="포트포워딩-설정"><a href="#포트포워딩-설정" class="headerlink" title="포트포워딩 설정"></a>포트포워딩 설정</h1><p>위에서 얘기한 것과 같이 공유기를 2번 거쳐서 맥북에 들어오는 상황입니다.<br>따라서 포트포워딩을 <code>유선 공유기(1)</code>, <code>유무선 공유기(2)</code>에 각각 설정해줘야 했습니다.</p><h2 id="맥북-원격-접속-허용"><a href="#맥북-원격-접속-허용" class="headerlink" title="맥북 원격 접속 허용"></a>맥북 원격 접속 허용</h2><h2 id="IP-확인"><a href="#IP-확인" class="headerlink" title="IP 확인"></a>IP 확인</h2><img src="/2020/05/25/MacOS-remote-access-for-dev-study/2.png" class=""><p>먼저 <code>유선 공유기(1)</code>에 접속해서 외부 인터넷에 연결될때 사용되는 IP를 확인했습니다.<br><code>11.11.11.11(가칭)</code>으로 확인 되었고 한번 더 확인하기 위해 <code>유선 공유기(1)</code>에 데스크탑을 연결해서 IP를 확인하는 사이트에 들어가서 크로스체크했습니다.<br>그리고 <code>유무선 공유기(2)</code>에 접속해서 <code>유선 공유기(1)</code>로부터 할당받은 IP를 확인했습니다.<br><code>22.22.22.22(가칭)</code>으로 확인 되었습니다.<br>그리고 <code>유무선 공유기(2)</code>에 무선으로 연결된 맥북의 IP도 확인했습니다.<br><code>33.33.33.33(가칭)</code>으로 확인 되었습니다.</p><p>제가 사용할 포트는 SSH로 22번 포트에 해당합니다.<br>따라서 간단히 외부에서도 22번 포트로 접속하고 22번 포트로 포트포워딩을 설정했습니다.<br>(물론외부에서 다른 포트로 연결하고 포트포워딩을 그에 맞도록 설정한다면 22번포트 외에 다른 번호도 가능합니다.)</p><img src="/2020/05/25/MacOS-remote-access-for-dev-study/3.png" class=""><p>순서는 아래와 같을것입니다.</p><ol><li>외부에서 <code>11.11.11.11:22</code>로 접속</li><li><code>유선 공유기(1)</code>에서 22번 포트에 대한 장치(<code>유무선 공유기(2)</code>)로 포트포워딩</li><li><code>유무선 공유기(2)</code>에서 22번 포트에 대한 장치(맥북)로 포트포워딩</li><li>맥북의 22번 포트 사용</li></ol><h2 id="포트포워딩"><a href="#포트포워딩" class="headerlink" title="포트포워딩"></a>포트포워딩</h2><p>위의 2, 3번에 대한 포트포워딩 설정을 해야합니다.<br><code>유선 공유기(1)</code>에 접속해서 포트포워딩 설정 페이지로 이동 후<br>외부 연결 포트 <code>22</code>를 내부 IP <code>22.22.22.22</code>와 포트 <code>22</code>로 설정해줍니다.<br><code>유무선 공유기(2)</code>에 접속해서 포트포워딩 설정 페이지로 이동 후<br>외부 연결 포트 <code>22</code>를 내부 IP <code>33.33.33.33</code>와 포트 <code>22</code>로 설정해줍니다.</p><h1 id="확인"><a href="#확인" class="headerlink" title="확인"></a>확인</h1><p>이제 외부 네트워크에 연결되어있는 PC를 이용해 putty나 ssh로 <code>11.11.11.11:22</code>로 접속을 확인해봅니다.<br>이때 외부 네트워크를 만들기 힘들다면 테더링을 이용하거나 카페에서 차 한잔의 여유..읍읍..<br><del>이시국에</del></p><p>만약 확인 작업에서 접속이 되지 않는다면 ISP 외부포트가 완전히 막혀있거나 집으로 들어오는 첫번째 공유기가 알고있는것과 다른 녀석이 존재할 수 있습니다.</p><p><a href="https://www.yougetsignal.com/tools/open-ports/" target="_blank" rel="noopener">포트 체커</a> 사이트를 이용해 22번포트가 열려있는지, 또는 자주 사용하는 다른 포트들이 열려있는지 같이 확인해주면 빨리 찾을 수 있습니다.</p><p>저는 집의 데스크탑으로도 맥북에 연결해서 작업 하는데요<br>실질적으로 구형 맥북은 화면도 작고 듀얼모니터로 사용할 케이블도 분실했고.. 이런저런 답답함이 있기 때문입니다.<br>데스크탑은 <code>유무선공유기(2)</code>에 유선으로 연결되어있습니다.<br>같은 네트워크에 있기 때문에 <code>11.11.11.11:22</code>로 접속하지 않아도 <code>33.33.33.33:22</code>를 이용해 맥북에 접속할 수 있습니다.</p><img src="/2020/05/25/MacOS-remote-access-for-dev-study/4.png" class="">]]></content>
      
      
      <categories>
          
          <category> MacOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ETC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Github] git 변경사항 되돌리기</title>
      <link href="/2020/05/24/Github-revert-change/"/>
      <url>/2020/05/24/Github-revert-change/</url>
      
        <content type="html"><![CDATA[<p>Git을 이용해 형상관리를 하다 보면 수정사항을 롤백 하고 싶을 때가 자주 있습니다.<br>이 포스트에서는 이전 커밋까지 롤백 하는 방법에 대해서 알아봅니다.</p><a id="more"></a><h2 id="git-add-명령을-하기-이전의-수정사항-롤백"><a href="#git-add-명령을-하기-이전의-수정사항-롤백" class="headerlink" title="git add 명령을 하기 이전의 수정사항 롤백"></a>git add 명령을 하기 이전의 수정사항 롤백</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> &#123;respository_directory&#125;</span></span><br><span class="line">respository_directory $ checkout .</span><br></pre></td></tr></table></figure><h2 id="git-add-명령어를-한-이후의-수정사항-롤백"><a href="#git-add-명령어를-한-이후의-수정사항-롤백" class="headerlink" title="git add 명령어를 한 이후의 수정사항 롤백"></a>git add 명령어를 한 이후의 수정사항 롤백</h2><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset</span></span><br></pre></td></tr></table></figure><h2 id="git-commit을-한-이후-롤백"><a href="#git-commit을-한-이후-롤백" class="headerlink" title="git commit을 한 이후 롤백"></a>git commit을 한 이후 롤백</h2><ul><li>주의 아래의 명령어는 수정사항이 완전히 삭제됩니다</li></ul><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD~</span></span><br></pre></td></tr></table></figure><h2 id="원격-저장소에-변경된-이력도-되돌리기"><a href="#원격-저장소에-변경된-이력도-되돌리기" class="headerlink" title="원격 저장소에 변경된 이력도 되돌리기"></a>원격 저장소에 변경된 이력도 되돌리기</h2><p>원격 저장소에 변경된 이력을 되돌리는 방법은 local 저장소의 새로운 변경사항으로 덮어쓰는것과 개념이 같습니다.</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset HEAD~</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"commit message"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin master</span></span><br></pre></td></tr></table></figure><h2 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h2><p>여러 롤백 케이스중에서 자주 사용할 수 있는 상황을 뽑아서 포스팅해봤습니다.<br>이외 더 자세한 롤백 방법은 아래의 사이트에 자세하게 나와있습니다.</p><p><a href="https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-Reset-%EB%AA%85%ED%99%95%ED%9E%88-%EC%95%8C%EA%B3%A0-%EA%B0%80%EA%B8%B0" target="_blank" rel="noopener">https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-Reset-%EB%AA%85%ED%99%95%ED%9E%88-%EC%95%8C%EA%B3%A0-%EA%B0%80%EA%B8%B0</a></p><p>중요한것은 롤백을 하기 전 어떻게 이력관리를 할것인지 한번 더 생각해 보는게 중요할 것 같습니다.</p>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Github] 로컬 저장소의 원격 저장소 URL 변경</title>
      <link href="/2020/05/23/Github-change-remote-repository-url-in-local-repository/"/>
      <url>/2020/05/23/Github-change-remote-repository-url-in-local-repository/</url>
      
        <content type="html"><![CDATA[<p>이 포스트에서는 이미 원격 저장소가 지정되어있는 로컬 폴더의 원격 저장소 url을 변경하는 상황에 대해서 포스팅합니다.</p><a id="more"></a><p>.git 폴더로 이동</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> <span class="built_in">test</span></span></span><br></pre></td></tr></table></figure><p>원격 저장소 url 확인</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br><span class="line">origin  https://github.com/dev-sawd/hyperledger-fabric-basic-network.git (fetch)</span><br></pre></td></tr></table></figure><p>저장소 url 변경</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote <span class="built_in">set</span>-url origin https://github.com/dev-sawd/hyperledger-fabric-basic-network-multi-org.git</span></span><br></pre></td></tr></table></figure><p>변경된 원격 저장소 url 확인</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> git remote -v</span></span><br><span class="line">origin  https://github.com/dev-sawd/hyperledger-fabric-basic-network-multi-org.git (fetch)</span><br><span class="line">origin  https://github.com/dev-sawd/hyperledger-fabric-basic-network-multi-org.git (push)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Linked List</title>
      <link href="/2020/05/23/Data-Structure-Linked-List/"/>
      <url>/2020/05/23/Data-Structure-Linked-List/</url>
      
        <content type="html"><![CDATA[<p><a href="https://docs.google.com/presentation/d/1LCv9_7XEzesbJSftRH4IYvEK84SslpDoThIdH_KwTtI/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a><br>와! 얼마만에 자료구조를 포스팅 하는지..<br>이미 자료는 다 만들어놨는데.. 그간 이런저런 문제와 핑계로 인해 이제 다시 올리게 되었습니다.</p><img src="/2020/05/23/Data-Structure-Linked-List/02.png" class=""><br><a id="more"></a><img src="/2020/05/23/Data-Structure-Linked-List/03.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/04.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/05.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/06.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/07.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/08.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/09.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/10.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/11.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/12.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/13.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/14.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/15.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/16.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/17.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/18.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/19.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/20.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/21.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/22.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/23.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/24.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/25.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/26.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/27.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/28.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/29.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/30.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/31.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/32.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/33.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/34.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/35.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/36.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/37.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/38.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/39.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/40.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/41.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/42.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/43.png" class=""><br><img src="/2020/05/23/Data-Structure-Linked-List/44.png" class=""><br>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Linux] Foundation of Linux</title>
      <link href="/2020/05/21/LINUX-Foundation-of-Linux/"/>
      <url>/2020/05/21/LINUX-Foundation-of-Linux/</url>
      
        <content type="html"><![CDATA[<p>Linux의 파일 구조에 대해서 etc와 var에 대해서 간단하게 찾아보고 이외 제게 필요한 정보들을 기록합니다.</p><a id="more"></a><h2 id="폴더-구조"><a href="#폴더-구조" class="headerlink" title="폴더 구조"></a>폴더 구조</h2><p><code>/etc</code> : 시스템 환경 설정 파일이 위치한 디렉토리<br><code>/var</code> : 운영 중인 시스템의 변화를 체크할 수 있는 파일들의 위치<br><code>/dev</code> : 장치 파일 디렉토리<br><code>/opt</code> : 애드온 소프트웨어 패키지 디렉토리</p><h2 id="파이프"><a href="#파이프" class="headerlink" title="파이프"></a>파이프</h2><p><code>|</code> 문자를 사용해 두 명령어를 이어줌.<br>앞에서 실행한 명령의 결과를 뒤에 적은 명령어의 입력으로 사용.</p><h2 id="하드-링크"><a href="#하드-링크" class="headerlink" title="하드 링크"></a>하드 링크</h2><p>원본 파일과 동일한 inode를 가짐<br>그렇기 때문에 원본 파일이 삭제 되더라도 원본 파일의 inode를 갖고 있는 링크 파일은 여전히 사용 가능<br>원본의 개념이 없음</p><h2 id="심볼릭-링크"><a href="#심볼릭-링크" class="headerlink" title="심볼릭 링크"></a>심볼릭 링크</h2><p>원본 파일의 이름을 가리키는 링크.<br>그러므로 원본 파일이 사라지게되면 역할을 수행할 수 없음.<br>원본 파일과 이름이 같다면 계속 사용 가능</p><p>출처<br>하드링크/심볼릭 링크 : <a href="https://jybaek.tistory.com/578" target="_blank" rel="noopener">https://jybaek.tistory.com/578</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Golang] JSON marshal/unmarshal시 값의 오차</title>
      <link href="/2020/05/20/Golang-difference-value-when-json-marshal-unmarshal/"/>
      <url>/2020/05/20/Golang-difference-value-when-json-marshal-unmarshal/</url>
      
        <content type="html"><![CDATA[<p>어떤 정보를 주고 받을때 JSON를 자주 사용합니다.<br>Golang은 JSON을 처리하기 위해 데이터를 JSON으로 Marshal, Unmarshal을 거칩니다.<br>이번 포스트에서는 큰 숫자값에 대해서 Marshal, Unmarshal시 값의 차이가 생겼던 경험과 해결에 대해서 적습니다.</p><a id="more"></a><h1 id="기본-문법"><a href="#기본-문법" class="headerlink" title="기본 문법"></a>기본 문법</h1><h2 id="Golang에서-map형태를-만드는-방법"><a href="#Golang에서-map형태를-만드는-방법" class="headerlink" title="Golang에서 map형태를 만드는 방법"></a>Golang에서 map형태를 만드는 방법</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   maxInt64 := math.MaxInt64</span><br><span class="line">   mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line">   fmt.Println(mapObject)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">map[int64:9223372036854775807]</span><br></pre></td></tr></table></figure><p>API를 만드는 입장에서 연동하는 외부의 JSON의 모든 자료형을 처리해야 하는 경우가 많기 때문에<br><code>map[string]interface{}</code>로 지정해서 <code>map</code>의 <code>key</code>는 <code>string</code>이고 value는 모든 자료형을 담을 수 있도록 <code>interface{}</code>로 지정합니다.<br>이 말은 vlaue의 자료형을 명시하지 않는다는 것과 같습니다.<br>이렇게 만들어진 데이터를 <code>byte array</code>로 <code>marshal</code> 작업을 통해 전송하는게 일반적입니다.</p><h2 id="json-Marshal"><a href="#json-Marshal" class="headerlink" title="json.Marshal()"></a>json.Marshal()</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   maxInt64 := math.MaxInt64</span><br><span class="line">   mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line">   <span class="comment">// marshal</span></span><br><span class="line">   <span class="keyword">var</span> bytes []<span class="keyword">byte</span></span><br><span class="line">   <span class="keyword">var</span> err error</span><br><span class="line">   <span class="keyword">if</span> bytes, err = json.Marshal(mapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   fmt.Println(bytes)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">[123 34 105 110 116 54 52 34 58 57 50 50 51 51 55 50 48 51 54 56 53 52 55 55 53 56 48 55 125]</span><br></pre></td></tr></table></figure><h2 id="json-Unmarshal"><a href="#json-Unmarshal" class="headerlink" title="json.Unmarshal()"></a>json.Unmarshal()</h2><p>데이터를 받아 처리하는 입장에서는 <code>byte array</code>를 <code>unmarshal</code>하여 구조화합니다.</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   maxInt64 := math.MaxInt64</span><br><span class="line">   mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line">   <span class="comment">// marshal</span></span><br><span class="line">   <span class="keyword">var</span> bytes []<span class="keyword">byte</span></span><br><span class="line">   <span class="keyword">var</span> err error</span><br><span class="line">   <span class="keyword">if</span> bytes, err = json.Marshal(mapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//fmt.Println(bytes)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// unmarshal</span></span><br><span class="line">   unmarshalMapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   <span class="keyword">if</span> err := json.Unmarshal(bytes, &amp;unmarshalMapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(unmarshalMapObject)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">map[int64:9223372036854775807]</span><br><span class="line">map[int64:9.223372036854776e+18]</span><br></pre></td></tr></table></figure><h1 id="문제-확인"><a href="#문제-확인" class="headerlink" title="문제 확인"></a>문제 확인</h1><p>문제점을 발견했나요?<br><code>9223372036854775807</code>의 값이 <code>JSON marshal/unmarshal</code>을 거치니 <code>9.223372036854776e+18</code>로 표현되고있습니다.<br>분명 <code>int64</code>의 값을 담아 전송했고 받은 사람은 <code>map[string]interface{}</code>로 <code>unmarshal</code>했지만 Println의 호출된 결과가 달라진 것이죠.<br><code>map</code>안의 <code>int64</code>값을 확인하기 위해 <code>int64</code>로 형변환하여 확인한 결과는 아래와 같습니다.</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   maxInt64 := math.MaxInt64</span><br><span class="line">   mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line">   <span class="comment">// marshal</span></span><br><span class="line">   <span class="keyword">var</span> bytes []<span class="keyword">byte</span></span><br><span class="line">   <span class="keyword">var</span> err error</span><br><span class="line">   <span class="keyword">if</span> bytes, err = json.Marshal(mapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//fmt.Println(bytes)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// unmarshal</span></span><br><span class="line">   unmarshalMapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">   <span class="keyword">if</span> err := json.Unmarshal(bytes, &amp;unmarshalMapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(unmarshalMapObject)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 형변환 확인</span></span><br><span class="line">   unmarshalMaxInt64 := unmarshalMapObject[<span class="string">"int64"</span>].(<span class="keyword">int64</span>)</span><br><span class="line">   fmt.Println(unmarshalMaxInt64)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;결과</span><br><span class="line">map[int64:9223372036854775807]</span><br><span class="line">map[int64:9.223372036854776e+18]</span><br><span class="line">panic: interface conversion: interface &#123;&#125; is float64, not int64</span><br><span class="line"></span><br><span class="line">goroutine 1 [running]:</span><br><span class="line">main.main()</span><br><span class="line">    &#x2F;main.go:20 +0x3ba</span><br></pre></td></tr></table></figure><p>이 에러를 해석해보면<br><code>unmarshal</code> 하는 과정에서 <code>int64</code>가 아닌 <code>float64</code>형태로 암시적으로 변환된다는 얘기입니다.<br>그렇다면 <code>float64</code>로 형 변환 후 강제로 <code>int64</code>로 변환하면 어떻게 될까요?</p><h2 id="강제로-int64-형변환-후-값"><a href="#강제로-int64-형변환-후-값" class="headerlink" title="강제로 int64 형변환 후 값"></a>강제로 int64 형변환 후 값</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">unmarshalMaxInt64 := <span class="keyword">int64</span>(unmarshalMapObject[<span class="string">"int64"</span>].(<span class="keyword">float64</span>))</span><br><span class="line">fmt.Println(unmarshalMaxInt64)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">-9223372036854775808</span><br></pre></td></tr></table></figure><h2 id="산넘어-산"><a href="#산넘어-산" class="headerlink" title="산넘어 산"></a>산넘어 산</h2><p>우리가 기대한 결과와는 전혀 다른 엉뚱한 값이 결과로 나왔습니다.</p><blockquote><p>Overflow가 발생한 것으로 보임</p></blockquote><p>int64의 최대 값에서 갑자기 음수가 되었다는 것은 Overflow가 발생한 것으로 보입니다.<br>앞의 과정에서 int64의 원본 값과 float64로 변환된 값을 보면 800에서 반올림이 발생하였네요..<br>이것은 큰 문제를 야기합니다.</p><h1 id="해결-방법"><a href="#해결-방법" class="headerlink" title="해결 방법"></a>해결 방법</h1><p>진행중인 프로젝트에서 이렇게 큰 수를 사용할일은 없다고 정책적으로 말하고 있지만..<br>개발자 입장에서 운영단계에서의 이런 Overflow 발생으로 문제가 터진다면 골치아플게 뻔합니다.<br>따라서 해결 방법을 찾아보기로 했습니다.</p><h2 id="vlaue의-자료형을-interface-대신-명시적으로-사용"><a href="#vlaue의-자료형을-interface-대신-명시적으로-사용" class="headerlink" title="vlaue의 자료형을 interface{} 대신 명시적으로 사용"></a>vlaue의 자료형을 interface{} 대신 명시적으로 사용</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> maxInt64 <span class="keyword">int64</span></span><br><span class="line">   maxInt64 = math.MaxInt64</span><br><span class="line">   mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int64</span>)</span><br><span class="line">   mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line">   <span class="comment">// marshal</span></span><br><span class="line">   <span class="keyword">var</span> bytes []<span class="keyword">byte</span></span><br><span class="line">   <span class="keyword">var</span> err error</span><br><span class="line">   <span class="keyword">if</span> bytes, err = json.Marshal(mapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//fmt.Println(bytes)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// unmarshal</span></span><br><span class="line">   unmarshalMapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int64</span>)</span><br><span class="line">   <span class="keyword">if</span> err := json.Unmarshal(bytes, &amp;unmarshalMapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">      fmt.Println(err.Error())</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Println(unmarshalMapObject)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">map[int64:9223372036854775807]</span><br><span class="line">map[int64:9223372036854775807]</span><br></pre></td></tr></table></figure><p>하지만 위의 방법은 서두에 설명한 것과 같이 API를 개발하는 입장에서 map의 value에 어떤 자료형으로 들어올지 알 수 없기 때문에 실질적으로 사용이 어렵습니다.<br>제 입장에서 이 방법으로 해결하는건 옳지 않았습니다.</p><h2 id="json-decoder-UserNumber-를-이용해-처리"><a href="#json-decoder-UserNumber-를-이용해-처리" class="headerlink" title="json decoder, UserNumber()를 이용해 처리"></a>json decoder, UserNumber()를 이용해 처리</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"encoding/json"</span></span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">   <span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">maxInt64 := math.MaxInt64</span><br><span class="line">mapObject := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">mapObject[<span class="string">"int64"</span>] = maxInt64</span><br><span class="line"></span><br><span class="line"><span class="comment">// marshal</span></span><br><span class="line"><span class="keyword">var</span> bytes []<span class="keyword">byte</span></span><br><span class="line"><span class="keyword">var</span> err error</span><br><span class="line"><span class="keyword">if</span> bytes, err = json.Marshal(mapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(err.Error())</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(mapObject)</span><br><span class="line"></span><br><span class="line"><span class="comment">// decode</span></span><br><span class="line">d := json.NewDecoder(strings.NewReader(<span class="keyword">string</span>(bytes)))</span><br><span class="line">d.UseNumber()</span><br><span class="line"><span class="keyword">var</span> decodeMapObject <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"><span class="keyword">if</span> err := d.Decode(&amp;decodeMapObject); err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(err.Error())</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(decodeMapObject)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 형변환 테스트</span></span><br><span class="line"><span class="keyword">var</span> castedMaxInt64 <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">if</span> castedMaxInt64, err = decodeMapObject[<span class="string">"int64"</span>].(json.Number).Int64(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(err.Error())</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(castedMaxInt64)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">map[int64:9223372036854775807]</span><br><span class="line">map[int64:9223372036854775807]</span><br><span class="line">9223372036854775807</span><br></pre></td></tr></table></figure><p>이 방법이 <code>decode</code> 했을때도 값이 <code>float64</code>형태로 변하지 않고 <code>int64</code> 형변환도 문제없이 작동합니다.<br>데이터를 <code>json.Number</code>로 형변환 후 다시 <code>Int64()</code>를 호출해서 자료형을 변환해야 하지만 Overflow가 일어나는 것 보다 훨씬 낫군요.<br>이 방법으로 해결 방향을 잡았습니다.</p><h1 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h1><p>위의 문제는 프로젝트가 개발기간 중간에 발견한 문제입니다.<br>복잡한 로직이 한창 개발되는 상황에서 기초 함수에서 발견된 문제라 자칫 미궁으로 빠질수도 있었던 상황이였는데 정리해 두고 시간이 나는 지금에서야 블로그에 올리게 되었습니다.<br>항상 단위테스트를 통해 개발하는 습관을 가지고 경계값들도 꾸준히 체크한다면 사전에 방지할 수 있는 문제라고 생각됩니다.</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] Shell Script 접속사 ;, &amp;, &amp;&amp;</title>
      <link href="/2020/05/19/ETC-Shell-Script/"/>
      <url>/2020/05/19/ETC-Shell-Script/</url>
      
        <content type="html"><![CDATA[<p>리눅스나 SSH로 접속해서 명령어를 실행하는 상황이 자주 생기고 있습니다.<br>그럴때마다 새로운 터미널에서 명령어를 순차적으로 반복해서 입력해야하는 번거로움도 동반합니다.<br>이럴때 shell script를 만들어 반복잡업을 줄일 수 있는데 이 포스트에서는 shell 명령어중에서도 <code>;</code> <code>&amp;</code> <code>&amp;&amp;</code>에 대해서 써보려합니다.</p><a id="more"></a><h2 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h2><p>순차적인 명령어를 제어하다보면 이전 명령어의 성공후 다음명령어를 실행하고, 실패하면 중지해야하는 경우가 있습니다.<br>이때 사용하는 접속사가 <code>&amp;&amp;</code> 입니다.</p><p>아래는 실행할 스크립트 정보입니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; script.sh</span><br><span class="line">mkdir test &amp;&amp; cd test &amp;&amp; touch test.txt</span><br></pre></td></tr></table></figure><p>mkdir test에서 오류가 나지 않을 경우 test폴더에 들어가 test.txt를 생성하게 됩니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">% sh script.sh</span><br><span class="line">% cd test</span><br><span class="line">test % ls</span><br><span class="line">test.txt</span><br></pre></td></tr></table></figure><p>만약 test라는 폴더가 이미 존재해 mkdir test에서 오류가 나지 않을 경우 test.txt파일을 만들지 않을것입니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">% sh script.sh</span><br><span class="line">mkdir: test: File exists</span><br><span class="line">% cd test</span><br><span class="line">% ls</span><br><span class="line">&#x2F;&#x2F; 생성된 파일이 없음</span><br></pre></td></tr></table></figure><h2 id="amp"><a href="#amp" class="headerlink" title="&amp;"></a>&amp;</h2><p>&amp;는 해당 명령어를 백그라운드에서 실행할 때 사용합니다.</p><h2 id=""><a href="#" class="headerlink" title=";"></a>;</h2><p>;는 여러 명령어를 한줄에 서술할때 앞의 명령어의 성공여부에 상관없이 다음 명령어를 실행합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; script.sh</span><br><span class="line">mkdir test; cd test; touch test.txt</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">% sh script.sh</span><br><span class="line">mkdir: test: File exists</span><br><span class="line">% cd test</span><br><span class="line">test % ls</span><br><span class="line">test.txt</span><br></pre></td></tr></table></figure><p>명령어의 모음으로 스크립트를 작성하게 되면 생각보다 빈번하게 사용하는 접속사입니다.</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[MacOS] tree command</title>
      <link href="/2020/05/17/MacOS-tree-command/"/>
      <url>/2020/05/17/MacOS-tree-command/</url>
      
        <content type="html"><![CDATA[<p>최근 터미널에서 작업을 자주 하고있는데 폴더 구조를 한번에 봐야하는 경우가 자주 있습니다.<br>전부터 tree 명령어를 알고 있었지만 자주 사용하지 않았는데 이번에 사용해보기 위해 설치했습니다.</p><a id="more"></a><p>MacOS에서 tree를 설치하기 위해서는 brew를 이용해서 설치합니다.<br>먼저 터미널을 열어 brew가 설치되어있는지 버전 명령어를 실행해봅니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ brew -v</span><br><span class="line">Homebrew 2.2.16</span><br><span class="line">Homebrew&#x2F;homebrew-core (git revision ffef; last commit 2020-05-17)</span><br></pre></td></tr></table></figure><p>이때 brew가 설치되어 있지 않다면 <code>https://brew.sh/</code>에서 아래의 설치 명령어로 설치할 수 있습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; brew 설치가 안된 분들만 해당</span><br><span class="line">$ &#x2F;bin&#x2F;bash -c &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;Homebrew&#x2F;install&#x2F;master&#x2F;install.sh)&quot;</span><br></pre></td></tr></table></figure><p>brew가 설치되었다면 brew install 명령어를 이용해 tree를 설치합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ brew install tree</span><br><span class="line">Password:</span><br><span class="line">Error: Running Homebrew as root is extremely dangerous and no longer supported.</span><br><span class="line">As Homebrew does not drop privileges on installation you would be giving all</span><br><span class="line">build scripts full access to your system.</span><br></pre></td></tr></table></figure><p>저는 설치과정에서 permission 에러가 발생하였는데 아래의 명령어로 해결할 수 있었습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chown -R $(whoami) &#x2F;usr&#x2F;local&#x2F;lib</span><br><span class="line">Warning: tree 1.8.0 is already installed and up-to-date</span><br><span class="line">To reinstall 1.8.0, run &#96;brew reinstall tree&#96;</span><br></pre></td></tr></table></figure><p>설치는 완료했지만.. 경고가 뜨네요 1.8.0으로 재설치 하라고합니다.<br>따라서 다시한번 재설치를 해줬습니다</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew reinstall tree</span><br></pre></td></tr></table></figure><p>이제 원하는 폴더에서 tree 명령어를 입력하시면 해당 폴더의 하위 폴더 구조를 볼 수 있습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">|-- README.md</span><br><span class="line">|-- chaincode</span><br><span class="line">|   |-- abac</span><br><span class="line">|   |   &#96;-- go</span><br><span class="line">|   |       |-- abac.go</span><br><span class="line">|   |       &#96;-- vendor</span><br><span class="line">|   |           |-- github.com</span><br><span class="line">|   |           |   |-- golang</span><br><span class="line">|   |           |   |   &#96;-- protobuf</span><br><span class="line">|   |           |   |       |-- LICENSE</span><br><span class="line">|   |           |   |       &#96;-- proto</span><br><span class="line">|   |           |   |           |-- clone.go</span><br><span class="line">|   |           |   |           |-- decode.go</span><br><span class="line">|   |           |   |           |-- deprecated.go</span><br><span class="line">|   |           |   |           |-- discard.go</span><br><span class="line">|   |           |   |           |-- encode.go</span><br><span class="line">|   |           |   |           |-- equal.go</span><br><span class="line">|   |           |   |           |-- extensions.go</span><br><span class="line">|   |           |   |           |-- lib.go</span><br><span class="line">|   |           |   |           |-- message_set.go</span><br><span class="line">|   |           |   |           |-- pointer_reflect.go</span><br><span class="line">|   |           |   |           |-- pointer_unsafe.go</span><br><span class="line">|   |           |   |           |-- properties.go</span><br><span class="line">|   |           |   |           |-- table_marshal.go</span><br><span class="line">|   |           |   |           |-- table_merge.go</span><br><span class="line">|   |           |   |           |-- table_unmarshal.go</span><br><span class="line">|   |           |   |           |-- text.go</span><br><span class="line">|   |           |   |           &#96;-- text_parser.go</span><br><span class="line">|   |           |   |-- hyperledger</span><br><span class="line">|   |           |   |   &#96;-- fabric</span><br><span class="line">|   |           |   |       |-- LICENSE</span><br><span class="line">|   |           |   |       |-- core</span><br><span class="line">|   |           |   |       |   &#96;-- chaincode</span><br><span class="line">|   |           |   |       |       &#96;-- shim</span><br><span class="line">|   |           |   |       |           &#96;-- ext</span><br><span class="line">|   |           |   |       |               |-- attrmgr</span><br><span class="line">|   |           |   |       |               |   &#96;-- attrmgr.go</span><br><span class="line">|   |           |   |       |               &#96;-- cid</span><br><span class="line">|   |           |   |       |                   |-- README.md</span><br><span class="line">|   |           |   |       |                   |-- cid.go</span><br><span class="line">|   |           |   |       |                   &#96;-- interfaces.go</span><br><span class="line">|   |           |   |       &#96;-- protos</span><br><span class="line">|   |           |   |           &#96;-- msp</span><br><span class="line">|   |           |   |               |-- identities.pb.go</span><br><span class="line">|   |           |   |               |-- identities.proto</span><br><span class="line">|   |           |   |               |-- msp_config.go</span><br><span class="line">|   |           |   |               |-- msp_config.pb.go</span><br><span class="line">|   |           |   |               |-- msp_config.proto</span><br><span class="line">|   |           |   |               |-- msp_principal.go</span><br><span class="line">|   |           |   |               |-- msp_principal.pb.go</span><br><span class="line">|   |           |   |               &#96;-- msp_principal.proto</span><br><span class="line">|   |           |   &#96;-- pkg</span><br><span class="line">|   |           |       &#96;-- errors</span><br><span class="line">|   |           |           |-- LICENSE</span><br><span class="line">|   |           |           |-- README.md</span><br><span class="line">|   |           |           |-- appveyor.yml</span><br><span class="line">|   |           |           |-- errors.go</span><br><span class="line">|   |           |           &#96;-- stack.go</span><br><span class="line">|   |           &#96;-- vendor.json</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MacOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MacOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Github] 원격 저장소 연결</title>
      <link href="/2020/05/16/Github-connect-remote-repository/"/>
      <url>/2020/05/16/Github-connect-remote-repository/</url>
      
        <content type="html"><![CDATA[<p>Hyperledger fabric samples를 공부하는데 공부 이력과 자료를 남겨야겠다고 생각했습니다.</p><p>이번에 Github에 저장소를 만들고 로컬에 있는 파일들을 올려 관리하는 방법을 설명하려합니다.</p><a id="more"></a><hr><ul><li><p>Github 로그인</p></li><li><p>우측 상단 [+] &gt; New repository</p></li><li><p>Create a new repository 정보 입력</p></li><li><p>생성된 HTTPS 주소 확인</p><img src="/2020/05/16/Github-connect-remote-repository/01.PNG" class=""></li><li><p>저장하고자 하는 로컬 폴더로 이동</p></li><li><p>git 저장소 생성</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure></li><li><p>원격 저장소에 연결</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin [생성된 HTTPS 주소]</span><br></pre></td></tr></table></figure></li><li><p>Git으로 관리하고자 하는 현재 폴더의 자료를 지정</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br></pre></td></tr></table></figure></li><li><p>로컬 저장소에 커밋</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;Project init&quot;</span><br></pre></td></tr></table></figure></li><li><p>원격 저장소에 업로드</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure><p>이 과정에서 github 계정과 비밀번호를 입력</p></li><li><p>원격 저장소 확인</p><img src="/2020/05/16/Github-connect-remote-repository/02.PNG" class=""></li></ul>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Golang] Random Unique String</title>
      <link href="/2020/05/15/Golang-Random-Unique-String/"/>
      <url>/2020/05/15/Golang-Random-Unique-String/</url>
      
        <content type="html"><![CDATA[<p>체인코드를 개발하면서 Golang으로 유니크한 Random String을 생성할 필요가 있었습니다.</p><p>이 글에서는 난수를 사용해야할 때 주의점에 대해 설명합니다.</p><a id="more"></a><p>Random은 조심해야할 부분이 몇가지 있는데 아래와 같습니다.</p><ol><li>Seed값</li><li>고속의 동시 접속</li></ol><p>Seed는 주로 시각(time.Now().UnixNano())을 인자로 사용합니다.</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"math/rand"</span></span><br><span class="line"><span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">rand.Seed(time.Now().UnixNano()) <span class="comment">// 현재 시각의 nano초를 seed인자로 입력</span></span><br><span class="line">fmt.Println(rand.Int63())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>랜덤의 개념이기는 하지만 정확히는 Seed를 같은 값을 주게 되면 같은 순서의 랜덤 문자가 나오게됩니다.</p><p>여기에서 문제가 발생하는데 동시 접속이 많은 시스템이나 시스템 과부화의 테스트를 진행할 경우 같은 시간에 Seed값이 입력된다면 랜덤값이지만 같은 값이 나올 수 있다는 이야기가 됩니다.</p><p>실제로 제가 개발하고 있는 시스템에서 500명의 사용자로 시스템에 접근을 가정했을때 꽤 높은 확률로 일치하는 값의 결과가 나왔습니다.</p><p>따라서 저는 조금 더 수준높은 랜덤값을 생성하기위해 공부했는데 이때 사용한 패키지가 crypto/rand입니다.</p><p><a href="https://golang.org/pkg/crypto/rand/" target="_blank" rel="noopener">https://golang.org/pkg/crypto/rand/</a></p><p>패키지 설명으로는 암호로 안전한 난수를 생성할수 있도록 구현했다고 하네요</p><blockquote><p>Package rand implements a cryptographically secure random number generator.</p></blockquote><p>코드 사용은 아래와 같습니다.</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">cryptoRand <span class="string">"crypto/rand"</span></span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"math"</span></span><br><span class="line"><span class="string">"math/big"</span></span><br><span class="line"><span class="string">"math/rand"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">seed, _ := cryptoRand.Int(cryptoRand.Reader, big.NewInt(math.MaxInt64))</span><br><span class="line">rand.Seed(seed.Int64())</span><br><span class="line">fmt.Println(rand.Int63())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 결과</span><br><span class="line">458626028109884820</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] Hello world</title>
      <link href="/2020/05/14/hello-world/"/>
      <url>/2020/05/14/hello-world/</url>
      
        <content type="html"><![CDATA[<p>오랜만에 이 블로그에 다시 포스팅하는군요..</p><p>재작년부터 너무너무 바빠서 기술공부만 하느라 블로그는 머릿속에 떠오르지도 않았습니다.</p><p>귀찮음을 이겨내고 지금까지 공부한것들을 토대로 천천히 다시 시작!</p><a id="more"></a><p><del>그런데 마크다운부터 다시 공부해야하나…</del></p><p>당장은 익숙해 지기 위해 HEXO 명령어를 여기에 메모해두어야겠습니다.</p><hr><p>hexo 서버 시작</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>새 포스트 작성</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new post post-name</span><br></pre></td></tr></table></figure><p>배포</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy --generate</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ETC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Linked List(feat. ADT)</title>
      <link href="/2018/07/26/Data-Structure-Linked-List-feat-ADT/"/>
      <url>/2018/07/26/Data-Structure-Linked-List-feat-ADT/</url>
      
        <content type="html"><![CDATA[<p><a href="https://docs.google.com/presentation/d/1krG7UWcIiots2OqwGcNcqOUSgBLEx-h4CPJr-c0WfWo/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a><br>오늘 내용은 연결리스트이지만 대부분은 ADT내용이네요.<br>다음시간에 연결리스트쪽을 더 자세하게 볼 수 있을 것 같습니다.</p><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/02.jpg" class=""><br><a id="more"></a><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/03.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/04.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/05.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/06.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/07.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/08.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/09.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/10.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/11.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/12.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/13.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/14.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/15.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/16.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/17.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/18.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/19.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/20.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/21.jpg" class="">기능이라는것에 중심을 둬야합니다.그래서 이렇게 반복해서..<br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/22.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/23.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/24.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/25.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/26.jpg" class="">앞으로 ADT라는 단어나 개념은 계속 나올테니이번에 제대로 알아두는게 좋을 것 같네요.<br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/27.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/28.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/29.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/30.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/31.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/32.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/33.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/34.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/35.jpg" class="">이정도면 얼마나 중요한지...<br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/36.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/37.jpg" class="">따라서 "나는 이렇게 설계해야 하는군" 이라는 느낌을 가지면 좋겠네요.<br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/38.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/39.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/40.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/41.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/42.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/43.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/44.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/45.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/46.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/47.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/48.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/49.jpg" class=""><br><img src="/2018/07/26/Data-Structure-Linked-List-feat-ADT/50.jpg" class=""><br>장수만 많지 내용은 부실한거같아요.. ㅜㅜ하지만 ADT에 대해서 아직도 어려운 분들은 꼭 관련 자료나이 장을 다시한번 정독해주시면 좋을 것 같습니다.<ul><li>이 포스트는 작성중에 있습니다.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] Performance about algorithms</title>
      <link href="/2018/07/25/ETC-Performance-about-algorithms/"/>
      <url>/2018/07/25/ETC-Performance-about-algorithms/</url>
      
        <content type="html"><![CDATA[<p>알고리즘 테스트에는 채점, 확인 프로그램이 사용됩니다.<br>이 입력값 대비 출력값이 올바른지(알고리즘 구조가 맞는지), 속도는 어느정도인지, 메모리는 얼마나 사용하는지 등..<br>만약 올바른 알고리즘이라도 속도나 메모리 사용을 초과하면 잘못된 풀이로 판단합니다.</p><p>오늘은 알고리즘 테스트와 관련하여 속도에 대해서 이야기해볼가 합니다.</p><a id="more"></a><p>보통 테스트를 볼때 주 언어를 하나 선택해서 문제를 풉니다.<br>특히 어떤 입력을 받아 한줄 또는 여러줄에 걸쳐 출력을 하는 알고리즘 문제가 많이 출제됩니다.</p><p>시스템 입출력 함수, 클래스는 꽤 많습니다.<br>여러분은 어느정도나 알고있나요?<br>주로 사용하는 입출력 함수, 클래스의 속도에 대해서 생각해보신적 있나요?</p><p>먼저 bupjae님께서 작성한 수행시간 비교를 보여드릴게요<br>출처는 <a href="https://algospot.com/forum/read/2496/" target="_blank" rel="noopener">https://algospot.com/forum/read/2496/</a> 여기입니다.<br>시간나시면 정독을 추천합니다.</p><img src="/2018/07/25/ETC-Performance-about-algorithms/1.png" class=""><p>저같은 경우에는 java.util.Scanner를 자주 사용하는데 같은 입출력 클래스인 java.io.BufferedReader에 비해서 무려 6배나 오래걸립니다.<br>습관을 떠나 이정도 속도차이면 분명히 알고 개선해야할 부분이라고 개인적으로 생각했습니다.<br>특히나 수행시간을 타이트하게 잡은 문제일수록 BufferedReader를 써야함에는 이견이 없을겁니다.<br>뭔가 더 공부할 수 있고 습관을 바꿀 수 있는 계기를 마련해준 알고리즘 문제에 감사함을 느꼈습니다.</p><p>만약 여러분도 기회나 여유가된다면 알고리즘 문제를 풀어보시길 꼭 추천드립니다.</p><figure class="highlight java"><figcaption><span>메모</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">            BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(System.out));</span><br><span class="line">            StringTokenizer st = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> count = Integer.parseInt(br.readLine());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">                st = <span class="keyword">new</span> StringTokenizer(br.readLine());</span><br><span class="line">                <span class="keyword">int</span> a = Integer.parseInt(st.nextToken());</span><br><span class="line">                <span class="keyword">int</span> b = Integer.parseInt(st.nextToken());</span><br><span class="line">                <span class="keyword">int</span> c = a + b;</span><br><span class="line">                bw.write(c + <span class="string">"\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            bw.flush();</span><br><span class="line">            bw.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] svn vs git</title>
      <link href="/2018/07/20/ETC-svn-vs-git/"/>
      <url>/2018/07/20/ETC-svn-vs-git/</url>
      
        <content type="html"><![CDATA[<p>이번 포스트는 형상관리에 대해서 적어볼까 합니다.<br>제 경험과 함께 공부하며 새롭게 알게된 사실도 같이 적습니다.</p><h1 id="형상관리"><a href="#형상관리" class="headerlink" title="형상관리"></a>형상관리</h1><p>아마 프로그래밍을 배우고 어느정도 익혔을 어렸을때는 정확히 형상관리에 대해 알지 못했습니다.<br>9년전 3인 프로젝트를 진행해야 했는데, 그 프로젝트의 규모는 생각보다 괜찮은 편이였습니다.<br>저를 제외한 두 사람은 소스코드 관리에 대해서 고민할 수 밖에 없었고 저는 이러한 개념도 없을 초보 시절이였죠.</p><a id="more"></a><h2 id="전쟁의-서막"><a href="#전쟁의-서막" class="headerlink" title="전쟁의 서막"></a>전쟁의 서막</h2><p>그중 한 사람이 SVN에 대해서 얘기하고 제안 했습니다.(아직도 생생하군요.)<br>나머지 한 사람이 “그럴 필요까지 있는가?”라며 반대했습니다.<br>결국 SVN을 사용하지 않기로 결정하고 개발에 착수했습니다.<br>우리는 나름 잘 개발했고 인터페이스도 그럭저럭 괜찮은 편이였습니다. 초반 며칠만 말이죠.</p><h2 id="복병을-만나다"><a href="#복병을-만나다" class="headerlink" title="복병을 만나다"></a>복병을 만나다</h2><p>프로젝트에서 관리해야 할 파일은 점점 늘어만 갔습니다.<br>한 폴더 안에는 일련의 클래스와 헤더들(그때는 C++)이 넘쳐나기 시작했고 다른 사람이 개발한 소스코드를 네이트온으로 받아서 병합해야 하는 시간은 날로 늘어만 갔습니다.<br>소스코드 관리는 점점 힘들어지고 개발해야 하는 기능도 늘어만 갔습니다.</p><h2 id="끝내"><a href="#끝내" class="headerlink" title="끝내"></a>끝내</h2><p>당시 한명이 짜증을 내면서 이짓을 언제까지 해야하는지 푸념했습니다.<br>그가 바로 SVN을 반대한 사람이였습니다.</p><h1 id="형상관리를-해야하는-이유"><a href="#형상관리를-해야하는-이유" class="headerlink" title="형상관리를 해야하는 이유"></a>형상관리를 해야하는 이유</h1><p>앞서 제 이야기에서 형상관리를 해야하는 메세지가 담겨있습니다.<br>고작 3명으로 진행하는 프로젝트에서도 소스코드 병합과 배포등에 많은 시간을 할애 해야 했죠.<br>서로 개발하고있는 소스 버전도 달라서 누구에게는 있는 기능이 누구에게는 없어서 혼동이 오는 경우도 많았습니다.<br>거의 저 일화가 있은 1년정도 후에 공부하면서 SVN을 알게 되었고 제 무지함도 같이 깨닫게 되었습니다.<br>그 이후로 한참동안 SVN을 사용하면서 잘 개발해 왔습니다.<br>git이 제 곁에 훌쩍 다가와 있음에도 말이죠.</p><h1 id="SVN과-git"><a href="#SVN과-git" class="headerlink" title="SVN과 git"></a>SVN과 git</h1><p>SVN과 git은 형상관리를 해준다는 장점과 공통점이 있지만 차이점도 많습니다.<br>대표적으로 git은 local 기반의 저장소, SVN은 중앙(서버) 저장소를 사용하는 구조입니다.</p><img src="/2018/07/20/ETC-svn-vs-git/1.png" class=""><p>위의 그림이 시각적으로 명확하게 보여주고있습니다.<br>이런 특성을 이용해 차이점이자 git의 장점이 또 있는데, 오프라인 작업이 가능하다는 것 입니다.<br>SVN에서는 코드를 원본에 커밋(푸쉬)할 때 온라인으로 중앙 저장소에 접근 가능해야 합니다.<br>로컬에서 변화가 있으면 중앙 저장소에 커밋해서 다른사람들이 받을 수 있도록 해야합니다.</p><p>이런 차이점은 단순히 인터넷접근이 불가능한 공간에서 작업이 가능하다는 장점만을 말하는 것이 아닙니다.<br>중앙 저장소의 고장으로 인해 발생할 수 있는 예외나 불편함을 피할 수 있습니다.</p><p>git을 사용하면 로컬에 커밋해놓고 중앙 저장소가 정상화 되었거나 복구되었을때 커밋을 푸쉬하면 됩니다.<br>SVN에서 커밋, 푸쉬의 영역이 모호했다면 git에서는 커밋이 로컬 저장소에 저장, 푸쉬가 중앙 저장소에 반영 정도가 될 것입니다.</p><h2 id="브랜치에-관하여"><a href="#브랜치에-관하여" class="headerlink" title="브랜치에 관하여"></a>브랜치에 관하여</h2><p>SVN에서는 저장소에 실제 파일들을 저장합니다.<br>브랜치의 개념은 폴더로 구분 짓습니다.<br>조금 더 쉽게 풀어쓰자면, 어떤 기능을 개발하기 위해 브랜치로 분리해서 작업하게 되면 시스템에 독립된 폴더가 생성되고 그 공간에서 작업하게 됩니다.</p><p>반면 git의 경우 해시로 관리되고 이 해시에 이름을 붙인것입니다.<br>이 내용은 복잡하므로 간단히 얘기하면 SVN처럼 폴더를 새로 만들어서 복사본을 만드는 것이 아닙니다.<br>마치 각자 파일들이 바뀌는 것 처럼 동작하게 됩니다.<br>개발자는 작업중인 공간에서 계속해서 작업하면 됩니다.</p><h1 id="개인적으로"><a href="#개인적으로" class="headerlink" title="개인적으로"></a>개인적으로</h1><p>브랜치를 나누는 방법에 대해서 주변 사람들과 이야기 하곤 하는데 정답은 없다고 생각합니다.<br>다만 어느정도의 가이드가 있으면 좋을 큰 틀은 머릿속에 있는데요.</p><p>Master 브랜치는 지금 당장 배포할 수 있는 수준의 코드를 관리합니다.<br>Dev 브랜치를 만들어 다음 버전에 반영될 Feature들이 모일 브랜치로 관리합니다.<br>나머지는 Feature 단위로 각자 브랜치를 만들어서 개발하고, 개발이 완료되면 Dev에 머지합니다.<br>반영할 Feature 브랜치들이 모두 머지되면 Dev로 부터 Release 브랜치를 만들어 테스트합니다.<br>이때 발생된 버그들을 모두 Release 브랜치에서 처리하여 Dev와 Master로 병합하고 배포합니다.<br>배포가 완료되고 Release, Feature 브랜치들이 필요없다고 판단되는 시점에서 브랜치를 삭제합니다.<br>Master, Dev는 계속해서 관리하여 개발을 진행합니다.</p><p>지금 제가 속한 회사는 Master에 모든 작업을 하고있습니다.<br>급하게 배포해야할때 굉장히 어려움이 있죠.<br>제대로 테스트 되지 않은 부분을 배포한다는건 사실 굉장한 스트레스입니다.<br>이런 불완전한 기능은 아직 크리티컬한 타격을 주지 않았지만, 언젠가는 그 크리티컬함을 넘어 사람의 생명까지 위협할 수 있습니다.<br>회사, 단체 구성원들이 한데 모여 규칙을 정하고 그 규칙을 잘 지켜나가는 데에서 이러한 오버헤드를 줄일 수 있습니다.</p><h1 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h1><p>간단히 SVN과 git을 이야기 하면서 형상관리의 중요성에 대해서도 적어보았습니다.<br>위에서 설명한 것은 정말 초급 부분만 이야기 한 것으로 git은 ‘git 생태계’라는 말이 있을 정도로 무궁무진합니다.<br>하나의 예로 GitHub이 있을 수 있죠.<br>지금은 주제에서 벗어나고 나중에 포스팅할 기회가 있을겁니다.</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] Page Indicator with Fragment</title>
      <link href="/2018/07/20/Android-Page-Indicator-with-Fragment/"/>
      <url>/2018/07/20/Android-Page-Indicator-with-Fragment/</url>
      
        <content type="html"><![CDATA[<p>오랜만에 또 포스팅 하는군요…<br>오늘은 GitHub의 라이브러리를 이용해 아래와 같은 것을 만들어볼까 합니다.</p><img src="https://raw.githubusercontent.com/romandanylyk/PageIndicatorView/master/assets/preview_anim_drop.gif" class=""><a id="more"></a><p>기반 라이브러리는 PageIndicator이고 원본 주소는 아래와 같습니다.<br><a href="https://github.com/romandanylyk/PageIndicatorView" target="_blank" rel="noopener">https://github.com/romandanylyk/PageIndicatorView</a></p><p>이 라이브러리를 사용하다가 샘플자체가 View로 되어있어서 이해하고 사용하기가 어려웠습니다.<br>마침 이전 강좌들에서 사용했던 Fragment를 이용해서 예제를 바꾸기로 했습니다.<br>라이브러리는 그대로 두고 샘플쪽 코드만 수정할겁니다.</p><h1 id="Page-Indicator"><a href="#Page-Indicator" class="headerlink" title="Page Indicator"></a>Page Indicator</h1><p>Page Indicator는 위에서 보셨듯 화면 하단에 현재 페이지가 몇번째 페이지인지 알려주는 것을 말합니다.<br>iOS에서는 PageViewController라고도 부릅니다.<br>이 UI를 사용하면 튜토리얼이나 단계가 있는 플로우를 작성하는데 꽤 그럴듯한 UX를 제공할 수 있습니다.</p><p>아주 잘 만들어진 라이브러리에 제가 사용하고 싶은 Fragment를 연동하려 합니다.</p><h1 id="HomeActivity-java"><a href="#HomeActivity-java" class="headerlink" title="HomeActivity.java"></a>HomeActivity.java</h1><p>단순하게 MainActivity역할을 하는 클래스입니다.<br>전문은 아래와 같습니다.</p><figure class="highlight java"><figcaption><span>HomeActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rd.pageindicatorview.home;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.view.ViewPager;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rd.PageIndicatorView;</span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.base.BaseActivity;</span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.base.BaseFragment;</span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.customize.CustomizeActivity;</span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.data.Customization;</span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.sample.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeActivity</span> <span class="keyword">extends</span> <span class="title">BaseActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> PageIndicatorView pageIndicatorView;</span><br><span class="line">    <span class="keyword">private</span> Customization customization;</span><br><span class="line">    <span class="keyword">private</span> ViewPager viewPager;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.ac_home);</span><br><span class="line">        customization = <span class="keyword">new</span> Customization();</span><br><span class="line"></span><br><span class="line">        initToolbar();</span><br><span class="line">        initViews();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> customization = requestCode == CustomizeActivity.EXTRAS_CUSTOMIZATION_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK;</span><br><span class="line">        <span class="keyword">if</span> (customization &amp;&amp; intent != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.customization = intent.getParcelableExtra(CustomizeActivity.EXTRAS_CUSTOMIZATION);</span><br><span class="line">            updateIndicator();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">        getMenuInflater().inflate(R.menu.menu_customize, menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (item.getItemId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.actionCustomize:</span><br><span class="line">                CustomizeActivity.start(<span class="keyword">this</span>, customization);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"ConstantConditions"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        viewPager = findViewById(R.id.viewPager);</span><br><span class="line">        HomeFragmentAdapter homeFragmentAdapter = <span class="keyword">new</span> HomeFragmentAdapter(getSupportFragmentManager());</span><br><span class="line">        homeFragmentAdapter.setData(createPageList());</span><br><span class="line">        viewPager.setAdapter(homeFragmentAdapter);</span><br><span class="line"></span><br><span class="line">        pageIndicatorView = findViewById(R.id.pageIndicatorView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;Fragment&gt; <span class="title">createPageList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] colors = &#123;R.color.google_red, R.color.google_yellow, R.color.google_green, R.color.google_blue&#125;;</span><br><span class="line">        List&lt;Fragment&gt; pageList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            BaseFragment baseFragment = <span class="keyword">new</span> BaseFragment();</span><br><span class="line">            Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">            bundle.putInt(BaseFragment.BACKGROUND_COLOR, colors[i]);</span><br><span class="line">            baseFragment.setArguments(bundle);</span><br><span class="line">            pageList.add(baseFragment);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> pageList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateIndicator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (customization == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        pageIndicatorView.setAnimationType(customization.getAnimationType());</span><br><span class="line">        pageIndicatorView.setOrientation(customization.getOrientation());</span><br><span class="line">        pageIndicatorView.setRtlMode(customization.getRtlMode());</span><br><span class="line">        pageIndicatorView.setInteractiveAnimation(customization.isInteractiveAnimation());</span><br><span class="line">        pageIndicatorView.setAutoVisibility(customization.isAutoVisibility());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>코드 전체적으로 라이브러리 사용방법과 설정을 통해 애니메이션, 세로모드 등을 바로바로 적용할 수 있도록 도와주는 코드입니다.<br>여기서 제가 수정한 곳에 포커스를 맞추려 합니다.</p><h2 id="집중할-부분"><a href="#집중할-부분" class="headerlink" title="집중할 부분"></a>집중할 부분</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    viewPager = findViewById(R.id.viewPager);</span><br><span class="line">    HomeFragmentAdapter homeFragmentAdapter = <span class="keyword">new</span> HomeFragmentAdapter(getSupportFragmentManager());</span><br><span class="line">    homeFragmentAdapter.setData(createPageList());</span><br><span class="line">    viewPager.setAdapter(homeFragmentAdapter);</span><br><span class="line"></span><br><span class="line">    pageIndicatorView = findViewById(R.id.pageIndicatorView);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>뷰를 초기화하는 부분입니다.<br>Fragment용 Adapter인 HomeFragmentAdapter를 만들었고 getSupportFragmentManager를 이용해 생성하였습니다.<br>그 Fragment Adapter에 데이터를 지정하고 뷰 페이저에 setAdpater로 연동하였습니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NonNull</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Fragment&gt; <span class="title">createPageList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] colors = &#123;R.color.google_red, R.color.google_yellow, R.color.google_green, R.color.google_blue&#125;;</span><br><span class="line">    List&lt;Fragment&gt; pageList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        BaseFragment baseFragment = <span class="keyword">new</span> BaseFragment();</span><br><span class="line">        Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">        bundle.putInt(BaseFragment.BACKGROUND_COLOR, colors[i]);</span><br><span class="line">        baseFragment.setArguments(bundle);</span><br><span class="line">        pageList.add(baseFragment);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pageList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>원래는 레이아웃 xml 이 없고 View를 새로 생성해서 넣는 코드였습니다.<br>하지만 실제 사용시에는 xml을 이용한 레이아웃 작업과 더 나아가 Fragment를 적용하는데 더 좋을 것 같아서 공부한 것을 토대로 수정하였습니다.</p><p>각 페이지는 알아보기 쉽게 기존 샘플에서와 같이 색상으로 페이지를 구분할 수 있도록 하였습니다.<br>Bundle을 이용해 Fragment에 색상 값들을 전달 할 수 있습니다.<br>밑에서 보겠지만 Fragment에서는 이 Bundle을 통해 들어온 색상값들을 자기 배경색으로 지정할 겁니다.</p><h1 id="HomeFragmentAdpater-java"><a href="#HomeFragmentAdpater-java" class="headerlink" title="HomeFragmentAdpater.java"></a>HomeFragmentAdpater.java</h1><figure class="highlight java"><figcaption><span>HomeFragmentAdapter.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rd.pageindicatorview.home;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentPagerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeFragmentAdapter</span> <span class="keyword">extends</span> <span class="title">FragmentPagerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Fragment&gt; fragmentList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HomeFragmentAdapter</span><span class="params">(FragmentManager fragmentManager)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(fragmentManager);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(List&lt;Fragment&gt; fragmentList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fragmentList = fragmentList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fragment <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fragmentList.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fragmentList.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>제가 Fragment를 ViewPager와 연동하기 위해 만든 Fragment Adapter입니다.<br>FragmentPagerAdpater를 상속받아서 생성하였고 위에서 설명한 setData를 정의하였습니다.<br>getItem, getCount너무 간단해서 설명하지 않도록 하겠습니다.</p><h1 id="BaseFragment-java"><a href="#BaseFragment-java" class="headerlink" title="BaseFragment.java"></a>BaseFragment.java</h1><figure class="highlight java"><figcaption><span>BaseFragment.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rd.pageindicatorview.base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.content.ContextCompat;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rd.pageindicatorview.sample.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String BACKGROUND_COLOR = <span class="string">"param1"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> backgroundColor;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BaseFragment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Required empty public constructor</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        <span class="keyword">if</span> (getArguments() != <span class="keyword">null</span>) &#123;</span><br><span class="line">            backgroundColor = getArguments().getInt(BACKGROUND_COLOR);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                             Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        View view = inflater.inflate(R.layout.fragment_base, container, <span class="keyword">false</span>);</span><br><span class="line">        LinearLayout linearLayout = view.findViewById(R.id.linear_layout);</span><br><span class="line">        linearLayout.setBackgroundColor(ContextCompat.getColor(getContext(), backgroundColor));</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BaseFragment라고 이름을 짓고 Fragment 를 상속받았습니다.<br>그리고 HomeActivity에서 인자로 사용할 static 변수인 BACKGROUND_COLOR도 지정했습니다.<br>onCreate에서 arguments가 있는지 확인하고 멤버 변수에 색상값을 넣어주었습니다.<br>onCreateView에서 배경이 되는 LinearLayout에 색상값을 이용해 배경색으로 지정하였습니다.</p><h2 id="fragment-base-xml"><a href="#fragment-base-xml" class="headerlink" title="fragment_base.xml"></a>fragment_base.xml</h2><figure class="highlight xml"><figcaption><span>fragment_base.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/linear_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>LinearLayout의 width와 height를 match_parent로 지정하였습니다.<br>이 영역에 색을 칠해서 배경으로 사용합니다.</p><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>라이브러리 사용자 관점에서는 굉장히 사용하고 싶은데 샘플이 너무 불친절했습니다.<br>xml없이 뷰를 하나 생성하고 색을 칠해서 Page Indicator에 연동해서 사용자에게 보여주는 형태였습니다.<br>사실 Page Indicator에는 Fragment가 더 좋을것 같다는 생각에 프로젝트를 Fork해서 수정했습니다.</p><p>제가 수정한 전체 코드는 아래에서 다운받을 수 있습니다.<br><a href="https://github.com/dev-sawd/PageIndicatorViewWithFragment" target="_blank" rel="noopener">https://github.com/dev-sawd/PageIndicatorViewWithFragment</a></p><p>이 강좌는 한번 더 확장할 에정입니다.<br>실제로 사용할때 ViewPager의 특성에 의해서 고려해야될 부분이 만만치 않기 때문입니다.<br>그럼 또 시간날때 포스팅 하겠습니다!</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
            <tag> Example </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Recursion</title>
      <link href="/2018/07/15/Data-Structure-Recursion/"/>
      <url>/2018/07/15/Data-Structure-Recursion/</url>
      
        <content type="html"><![CDATA[<p><a href="https://docs.google.com/presentation/d/1ctqfIf-ZW4M2rDRcjYI5yng5YiTCm__Mharz616kqR0/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a></p><h1 id="시작"><a href="#시작" class="headerlink" title="시작"></a>시작</h1><p>자료구조 두번째 포스팅입니다.<br>인트로보다 짧아서 부담이 덜하네요 ㅎㅎ..</p><img src="/2018/07/15/Data-Structure-Recursion/2.jpg" class=""><a id="more"></a><br># 재귀<img src="/2018/07/15/Data-Structure-Recursion/3.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/4.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/5.jpg" class="">어떻게 보면 이상하지만 자기 자신을 호출할 수 있습니다.<br>## 특징<img src="/2018/07/15/Data-Structure-Recursion/6.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/7.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/8.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/9.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/10.jpg" class="">여기에서 설명할 내용은 아니지만, 함수를 호출할때 현재 실행 위치와 정보들을 스택에 담습니다.그리고 호출한 함수가 끝나면 스택에서 다시 뽑아서 그 상태로 복귀합니다.하지만 끝나지 않고 계속해서 자기 자신을 호출한다면 스택이 계속해서 차면서 여유 메모리가 없는경우 스택 오버플로우가 발생하여 죽게됩니다.<p>자세한 내용은 운영체제에서 확인하실 수 있습니다.<br><br></p><img src="/2018/07/15/Data-Structure-Recursion/11.jpg" class=""><br>## 팩토리얼<img src="/2018/07/15/Data-Structure-Recursion/12.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/13.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/14.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/15.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/16.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/17.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/18.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/19.jpg" class=""><br># 정리<img src="/2018/07/15/Data-Structure-Recursion/20.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/21.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/22.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/23.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/24.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/25.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/26.jpg" class=""><br><img src="/2018/07/15/Data-Structure-Recursion/27.jpg" class=""><br>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Data Structure] Intro</title>
      <link href="/2018/07/11/Data-Structure-Intro/"/>
      <url>/2018/07/11/Data-Structure-Intro/</url>
      
        <content type="html"><![CDATA[<h1 id="시작"><a href="#시작" class="headerlink" title="시작"></a>시작</h1><p>사실 이 글이 올라간지 며칠 되었고, 작성된지는 더 오래되었는데..<br>스크린샷밖에 없던 포스트에서 글을 덧붙입니다.<br>최근에 스터디를 시작하면서 자료구조파트를 맡아서 정리, 발표하게 되었는데<br>그때 정리했던 내용과 제 개인적인 생각들이 많이 들어간 포스팅이라 할 수 있겠네요.</p><p>원본 자료 PPT를 슬라이드쇼로 넘겨보면 조금 더 재밌게 보실 수 있습니다.<br><a href="https://docs.google.com/presentation/d/1gcusJvl6lW8J5YmujuSTwZv0DdxVqlouZovD_FpFGEs/edit?usp=sharing" target="_blank" rel="noopener">원본자료</a></p><h1 id="자료구조"><a href="#자료구조" class="headerlink" title="자료구조"></a>자료구조</h1><img src="/2018/07/11/Data-Structure-Intro/1.jpg" class=""><br><a id="more"></a><img src="/2018/07/11/Data-Structure-Intro/2.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/3.jpg" class=""><br>## 분류<img src="/2018/07/11/Data-Structure-Intro/4.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/5.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/6.jpg" class="">선형구조와 단순구조에 대해서는 학습이나 실습을 통해 많이 접하는 구조입니다.그에 비해 비선형구조와 파일구조는 접할 기회가 더딥니다.약간의 실무 경험과 지식을 통해 알고는 있지만 이번 스터디에서 특히 제가 집중하고자 하는 부분이기도 합니다.(트리와 그래프에 약해요..)<br>## with 알고리즘<img src="/2018/07/11/Data-Structure-Intro/7.jpg" class="">자료구조는 항상 알고리즘을 떼놓고 얘기 할 수 없죠<br><img src="/2018/07/11/Data-Structure-Intro/8.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/9.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/10.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/11.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/12.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/13.jpg" class=""><br>## 성능<img src="/2018/07/11/Data-Structure-Intro/14.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/15.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/16.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/17.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/18.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/19.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/20.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/21.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/22.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/23.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/24.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/25.jpg" class="">현실적으로 그래프를 만족하는 최적화되어있는 알고리즘을 구현하기란 쉽지 않습니다.많은 선대 개발자들이 그에 가장 가깝게 만들어놓은 알고리즘들을 우리가 편하게 사용하고 있습니다.<br><img src="/2018/07/11/Data-Structure-Intro/26.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/27.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/28.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/29.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/30.jpg" class=""><br>## 빅-오(O)<img src="/2018/07/11/Data-Structure-Intro/31.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/32.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/33.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/34.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/35.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/36.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/37.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/38.jpg" class="">알고리즘 성능을 수치로 나타내기 위해 자주 사용되는 기본 빅오입니다.이것들을 순서대로 나열해봤습니다.<br><img src="/2018/07/11/Data-Structure-Intro/39.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/40.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/41.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/42.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/43.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/44.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/45.jpg" class="">~~화질구지네~~더 자세한 내용을 알고싶으신 분은 Data Structure Operations를 검색하시면 됩니다.간단히 각 자료구조의 연산(검색, 삽입, 삭제 등)에 따른 성능 비교입니다.<br><img src="/2018/07/11/Data-Structure-Intro/46.jpg" class=""><br># 정리<img src="/2018/07/11/Data-Structure-Intro/47.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/48.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/49.jpg" class="">무조건 좋은 알고리즘은 없습니다.앞에서 얘기한대로 상황에 알맞게 구현하고 사용해야 합니다.<br><img src="/2018/07/11/Data-Structure-Intro/50.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/51.jpg" class="">~~이건 온전히 제 얘기인데..읍읍~~<br><img src="/2018/07/11/Data-Structure-Intro/52.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/53.jpg" class="">생각보다 라이브러리는 믿고 사용 할 수 있습니다.지금도 라이브러리를 개선하고 더 빠르게 만드려는 노력들이 세계 곳곳에서 일어나고 있습니다.<br><img src="/2018/07/11/Data-Structure-Intro/54.jpg" class=""><br><img src="/2018/07/11/Data-Structure-Intro/55.jpg" class="">네... 다시한번 제 얘기 였구요~?<br><img src="/2018/07/11/Data-Structure-Intro/56.jpg" class=""><br>책을 한권 선정해서 읽으면서 정리한것과 제가 원래 가지고 있던 지식들을 섞어서 PPT로 만들어보았습니다.앞부분을 읽다보면 제가 집중해서 봐야할 부분들이 조금씩 보이네요.스터디를 진행하면서 앞으로 PPT를 계속 만들게 될 것 같으니 시간 날 때마다 포스팅하겠습니다.]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] Fragment with ViewPager Example</title>
      <link href="/2018/07/02/Android-Fragment-with-ViewPager-Example/"/>
      <url>/2018/07/02/Android-Fragment-with-ViewPager-Example/</url>
      
        <content type="html"><![CDATA[<p>오늘은 며칠동안 틈틈이 준비한 ViewPager와 Fragment를 이용한 화면전환 예제를 만들어보려 합니다.<br>며칠동안이라 했지만 거창하게 만들 시간은 없어서 정말 간단히 하려고 노력했습니다.</p><h1 id="ViewPager"><a href="#ViewPager" class="headerlink" title="ViewPager"></a>ViewPager</h1><p>뷰페이저란 사용자가 Swipe나 Tab 등을 통해서 현재 보는 화면 다음 화면을 Smooth하게 시각적으로 보여주도록 도와줍니다.<br>주로 Application을 설치하고 튜토리얼을 진행하는 과정에서 좌우로 휙휙 넘기면서 설명하는 곳에서 많이 사용합니다.</p><h1 id="화면구성"><a href="#화면구성" class="headerlink" title="화면구성"></a>화면구성</h1><p>우리가 만들 화면은 아래와같이 3 페이지입니다.</p><img src="/2018/07/02/Android-Fragment-with-ViewPager-Example/1.png" class=""><p>각 페이지를 색깔로 구분하였고, 각각의 Fragment를 따로 작성하였습니다.</p><a id="more"></a><p>그리고 화면 전환시 아래와 같이 지금 화면이 작아지고 다음에 올 화면이 오른쪽 또는 왼쪽에 보이는 애니메이션을 넣을겁니다.</p><img src="/2018/07/02/Android-Fragment-with-ViewPager-Example/2.png" class=""><h1 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h1><h2 id="MainActivity-java"><a href="#MainActivity-java" class="headerlink" title="MainActivity.java"></a>MainActivity.java</h2><p>MainActivity에서는 FragmentPagerAdapter를 이용해 Fragment들간의 페이지 설정과 애니메이션을 지정할겁니다.</p><figure class="highlight java"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.sawd.viewpagerwithfragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentPagerAdapter;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.view.ViewPager;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> MAX_PAGE = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    Fragment currentFragment = <span class="keyword">new</span> Fragment();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ViewPager viewPager = findViewById(R.id.view_pager);</span><br><span class="line">        viewPager.setPageTransformer(<span class="keyword">true</span>, <span class="keyword">new</span> ZoomOutPageTransformer());</span><br><span class="line">        viewPager.setAdapter(<span class="keyword">new</span> SawdFragmentAdatper(getSupportFragmentManager()));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">SawdFragmentAdatper</span> <span class="keyword">extends</span> <span class="title">FragmentPagerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">SawdFragmentAdatper</span><span class="params">(FragmentManager fm)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(fm);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Fragment <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (position &lt; <span class="number">0</span> || MAX_PAGE &lt;= position)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span> (position) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    currentFragment = <span class="keyword">new</span> SawdFragment1();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    currentFragment = <span class="keyword">new</span> SawdFragment2();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    currentFragment = <span class="keyword">new</span> SawdFragment3();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> currentFragment;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> MAX_PAGE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>코드블록 단위로 쪼개서 분석해보겠습니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewPager.setPageTransformer(<span class="keyword">true</span>, <span class="keyword">new</span> ZoomOutPageTransformer());</span><br></pre></td></tr></table></figure><p>위의 코드를 이용해 페이지 이동시 애니메이션을 지정할 수 있습니다.<br>ZoomOutPageTransformer 클래스 코드는 Android Developer사이트에서 가져왔고 뒤에 코드를 서술하겠습니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewPager.setAdapter(<span class="keyword">new</span> SawdFragmentAdatper(getSupportFragmentManager()));</span><br></pre></td></tr></table></figure><p>ViewPager에 Adapter를 설정하고 Fragment를 관리할 수 있도록 해당 액티비티의 SupportFragmentManager를 인자로 넘겨줍니다.<br>우리는 Adapter를 커스터마이징하기 위해 FragmentPagerAdapter를 상속받은 SawdFragmentAdapter를 만들겁니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.sawd.viewpagerwithfragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SawdFragmentAdatper</span> <span class="keyword">extends</span> <span class="title">FragmentPagerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SawdFragmentAdatper</span><span class="params">(FragmentManager fm)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(fm);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fragment <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || MAX_PAGE &lt;= position)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (position) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                currentFragment = <span class="keyword">new</span> SawdFragment1();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                currentFragment = <span class="keyword">new</span> SawdFragment2();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                currentFragment = <span class="keyword">new</span> SawdFragment3();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> currentFragment;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> MAX_PAGE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>필수로 getItem 메소드와 getCount 메소드를 오버라이딩 해야합니다.<br>코드로 간단히 알 수 있듯 getItem에서는 각 페이지별로 보여줄 Fragment를, getCount는 페이지수를 리턴합니다.<br>이부분에서 정말 다양하게 코드들을 작성 할 수 있습니다.</p><h2 id="activity-main-xml"><a href="#activity-main-xml" class="headerlink" title="activity_main.xml"></a>activity_main.xml</h2><p>레이아웃은 ConstraintLayout안에 ViewPager만 꽉채워서 넣었습니다.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag"><span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.view.ViewPager</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/view_pager"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginBottom</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginEnd</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginRight</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginStart</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="SawdFragment"><a href="#SawdFragment" class="headerlink" title="SawdFragment"></a>SawdFragment</h1><h2 id="SawdFragment1-3-java"><a href="#SawdFragment1-3-java" class="headerlink" title="SawdFragment1~3.java"></a>SawdFragment1~3.java</h2><p>Fragment를 상속받은 SawdFragment 클래스를 3개 만들었습니다.<br>내용은 완전히 같고 inflate에 들어가는 layout만 다르기 때문에 1을 기준으로 설명할게요.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.sawd.viewpagerwithfragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.support.constraint.ConstraintLayout;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SawdFragment1</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SawdFragment1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> inflater.inflate(R.layout.fragment_sawd1, container, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>fragment_sawd1.xml의 내용을 inflate하여 View로 만듭니다.<br>이 View가 MainActivity의 ViewPager에 적용된다고 생각하면 편합니다.</p><p>만약 Fragment안에 있는 뷰를 찾기 위해 findViewById() 메소드를 써야한다면 onCreate()에서 아래와 같이 접근할 수 있습니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">View parentView = inflater.inflate(R.layout.fragment_sawd1, container, <span class="keyword">false</span>);</span><br><span class="line">View childView = parentView.findViewById(R.id.child_view);</span><br><span class="line"><span class="comment">// Something to do about childView</span></span><br></pre></td></tr></table></figure><h2 id="fragment-sawd1-3-xml"><a href="#fragment-sawd1-3-xml" class="headerlink" title="fragment_sawd1~3.xml"></a>fragment_sawd1~3.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:id</span>=<span class="string">"@+id/constraint_layout"</span></span></span><br><span class="line"><span class="tag"><span class="attr">android:background</span>=<span class="string">"#27ab27"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>background를 설정해 각 페이지를 색깔로 구분할 수 있게 간단히 구현하였습니다.</p><h1 id="ZoomOutPageTransformer-java"><a href="#ZoomOutPageTransformer-java" class="headerlink" title="ZoomOutPageTransformer.java"></a>ZoomOutPageTransformer.java</h1><figure class="highlight java"><figcaption><span>ZoomOutPageTransformer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.sawd.viewpagerwithfragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.view.ViewPager;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZoomOutPageTransformer</span> <span class="keyword">implements</span> <span class="title">ViewPager</span>.<span class="title">PageTransformer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> MIN_SCALE = <span class="number">0.85f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> MIN_ALPHA = <span class="number">0.5f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transformPage</span><span class="params">(@NonNull View view, <span class="keyword">float</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pageWidth = view.getWidth();</span><br><span class="line">        <span class="keyword">int</span> pageHeight = view.getHeight();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (position &lt; -<span class="number">1</span>) &#123; <span class="comment">// [-Infinity,-1)</span></span><br><span class="line">            <span class="comment">// This page is way off-screen to the left.</span></span><br><span class="line">            view.setAlpha(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (position &lt;= <span class="number">1</span>) &#123; <span class="comment">// [-1,1]</span></span><br><span class="line">            <span class="comment">// Modify the default slide transition to shrink the page as well</span></span><br><span class="line">            <span class="keyword">float</span> scaleFactor = Math.max(MIN_SCALE, <span class="number">1</span> - Math.abs(position));</span><br><span class="line">            <span class="keyword">float</span> vertMargin = pageHeight * (<span class="number">1</span> - scaleFactor) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">float</span> horzMargin = pageWidth * (<span class="number">1</span> - scaleFactor) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (position &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                view.setTranslationX(horzMargin - vertMargin / <span class="number">2</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                view.setTranslationX(-horzMargin + vertMargin / <span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Scale the page down (between MIN_SCALE and 1)</span></span><br><span class="line">            view.setScaleX(scaleFactor);</span><br><span class="line">            view.setScaleY(scaleFactor);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Fade the page relative to its size.</span></span><br><span class="line">            view.setAlpha(MIN_ALPHA +</span><br><span class="line">                    (scaleFactor - MIN_SCALE) /</span><br><span class="line">                    (<span class="number">1</span> - MIN_SCALE) * (<span class="number">1</span> - MIN_ALPHA));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// (1,+Infinity]</span></span><br><span class="line">            <span class="comment">// This page is way off-screen to the right.</span></span><br><span class="line">            view.setAlpha(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ZoomOutPageTransformer는 page수와 position에 따라서 화면 전환시에 애니메이션을 정의하고 있습니다.<br>Android Developers에서 DepthPageTransformer도 함께 예제로 제공하고있는데 시간날때 보시면 좋을 것 같습니다.</p><a href="https://developer.android.com/training/animation/screen-slide#depth-page" title="" target="">Depth page transformer</a><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>최근에 공부하고 배우는것을 토대로 포스팅을 하지만 주 업무에 너무 치이고 있어서 며칠에 걸쳐서 포스팅까지 완료하였네요.<br>빠르진 않더라도 앞으로도 이렇게 차근차근 포스팅 할 예정입니다.<br>전체 소스를 원하시는 분이 있을지 모르니 링크 드립니다.</p><a href="https://github.com/dev-sawd/ViewPager-With-Fragment" title="" target="">ViewPager-With-Fragment</a>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
            <tag> Example </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[iOS] About Function (feat. method)</title>
      <link href="/2018/06/27/iOS-About-Function/"/>
      <url>/2018/06/27/iOS-About-Function/</url>
      
        <content type="html"><![CDATA[<p>주로 Java를 사용하다가 iOS를 공부하는데 Objective-C를 공부하면서 함수라는 용어가 나와서 모호했던 개념을 다잡고자 정리합니다.<br>이번 포스트는 함수에 대해 알아보면서 메소드와이 차이도 간략하게 알아볼게요.</p><h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><p>함수와 메소드는 모두 코드 조각을 지칭하는 용어이지만 몇가지 차이점이 있습니다.<br>함수는 코드의 최상위 레벨에 선언되고, 메소드는 특정 형식 내부에 선언됩니다.<br>함수는 함수 이름만으로 호출 할 수 있지만, 메소드는 반드시 연관된 이름이나 인스턴스를 통해 호출해야 합니다.</p><a id="more"></a><p>Objective-C와 Swift는 함수와 메소드를 모두 구현할 수 있습니다.<br>C와 같이 함수만 구현할 수 있는 언어가 있고, Java와 같이 메소드만 구현할 수 있는 언어도 있습니다.<br>Objective-C의 경우 함수를 구현할 때 C 언어와 동일한 문법을 사용하지만,<br>메소드를 구현할 때는 Objective-C 자체 문법을 사용합니다.<br>또한 메소드를 구현할 수 있는 형식은 클래스로 제한됩니다.</p><p>Swift는 동일한 문법을 사용하여 함수와 메소드를 구현합니다.<br>Objective-C와 달리 클래스, 구조체, 열거형에 메소드를 구현할 수 있습니다.</p><h2 id="함수의-구성-요소"><a href="#함수의-구성-요소" class="headerlink" title="함수의 구성 요소"></a>함수의 구성 요소</h2><p>함수는 일반적으로 다섯 가지 요소로 구성됩니다.</p><ol><li>함수 이름</li><li>파라미터</li><li>리턴형</li><li>실행코드</li><li>프로토타입</li></ol><figure class="highlight objc"><figcaption><span>Objective-C</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSInteger</span> plusOne(<span class="built_in">NSInteger</span> x) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><figcaption><span>Swift</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plusOne</span><span class="params">(x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="함수의-이름과-함수-호출"><a href="#함수의-이름과-함수-호출" class="headerlink" title="함수의 이름과 함수 호출"></a>함수의 이름과 함수 호출</h2><p>함수의 이름은 동사 + 명사로, 시작 동사는 소문자로 짓는 것이 관례입니다.<br>즉 PlusOne보다 plusOne으로 짓는 것이 좋습니다.<br>log, write, read와 같이 자주 사용하는 단어를 이름으로 사용할 경우 함수의 사용범위 내에 동일한 이름을 사용하는 함수가 존재할 가능성이 높습니다.<br>이 경우에는 좀 더 구체적인 이름을 사용하거나 접두어를 사용합니다.<br>Foundation 프레임워크에서 제공하는 함수들은 NS 접두어를 사용하고 있으며, NSLog가 그 예입니다.</p><h2 id="파라미터"><a href="#파라미터" class="headerlink" title="파라미터"></a>파라미터</h2><p>f(x) = x + 1에서 x를 파라미터라고 합니다.<br>파라미터는 함수를 선언할 때 ()사이에 ,로 구분하여 나열합니다.<br>함수가 받을 수 있는 파라미터 수에는 제한이 없지만 가독성을 고려해서 선언합니다.</p><h2 id="Call-by-Value-vs-Call-by-Reference"><a href="#Call-by-Value-vs-Call-by-Reference" class="headerlink" title="Call by Value vs Call by Reference"></a>Call by Value vs Call by Reference</h2><p>파라미터에 인자를 전달하는 방식은 크게 두 가지로 분류할 수 있습니다.<br>첫 번째 방식은 인자의 값을 전달하는 Call by Value이고 두 번째 방식은 인자의 값이 저장된 메모리의 주소를 전달하는 Call by Reference입니다.</p><p>두 방식의 차이점으로 자주 예를 드는 swap함수를 만들어보겠습니다.<br>swap함수는 두개의 수를 받아서 해당 수를 바꾸는 역할을 수행할 함수입니다.</p><figure class="highlight objc"><figcaption><span>Objective-C</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> swap(<span class="built_in">NSInteger</span> lhs, <span class="built_in">NSInteger</span> rhs) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"before swap"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"lhs: %ld"</span>, lhs);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"rhs: %ld"</span>, rhs);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSInteger</span> tmp = lhs;</span><br><span class="line">    lhs = rhs;</span><br><span class="line">    rhs = tmp;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"after swap"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"lhs: %ld"</span>, lhs);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"rhs: %ld"</span>, rhs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>그리고 호출은 이렇게 합니다.</p><figure class="highlight objc"><figcaption><span>Objective-C</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSInteger</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">NSINteger</span> b = <span class="number">2</span>;</span><br><span class="line">swap(a, b);</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"a: %ld"</span>, a);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"b: %ld"</span>, b);</span><br></pre></td></tr></table></figure><p>이 함수를 실행하면 함수 내부에서 파라미터의 값은 교체되지만, 함수 호출 후의 a와 b의 값은 교체되지 않은 것을 확인할 수 있습니다.<br>여기에서 인자를 전달한 방식은 Call by Value 입니다.</p><p>Call by Reference는 인자의 메모리 주소를 전달합니다.<br>이 방식으로 인자를 전달받는 파라미터의 자료형은 포인터로 선언되어야 합니다.<br>저는 이렇게 구현했습니다.</p><figure class="highlight objc"><figcaption><span>Objective-C</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> swap(<span class="built_in">NSInteger</span>* lhs, <span class="built_in">NSInteger</span>* rhs) &#123;</span><br><span class="line">    <span class="built_in">NSInteger</span> tmp = *lhs;</span><br><span class="line">    *lhs = *rhs;</span><br><span class="line">    *rhs = tmp;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"after swap"</span>);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"lhs: %ld"</span>, *lhs);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"rhs: %ld"</span>, *rhs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>실행을 해보면 Call by Value 방식과 달리 함수를 호출한 후에 a, b값이 교체된 것을 확인할 수 있습니다.</p><figure class="highlight objc"><figcaption><span>Objective-C</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSInteger</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">NSINteger</span> b = <span class="number">2</span>;</span><br><span class="line">swap(&amp;a, &amp;b);</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"a: %ld"</span>, a);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"b: %ld"</span>, b);</span><br></pre></td></tr></table></figure><p>이 코드는 이전 코드와 몇가지 차이점을 가지고 있습니다.<br>swap 함수의 두 파라미터는 주소를 파라미터로 받을 수 있도록 포인터로 선언되어 있습니다.<br>그리고 함수를 호출할때 변수의 주소를 넘겨주고, 함수 내에서는 변수의 주소로 접근해 값을 변경합니다.<br>따라서 이전 Call by Value와 다르게 swap함수가 끝나고 main에서 다시 접근했을때 값이 계속 변경되어있는 것입니다.</p><h1 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h1><p>C 계열의 언어를 사용하는 프로그래머에게 포인터의 개념은 필수입니다.<br>특히나 이 포인터는 함수와 연관되어 많이 사용됩니다.<br>함수, 포인터는 항상 러닝커브가 급격하게 올라가는 시점이기 때문에 많은 분들이 어려워합니다.<br>이 포스트를 문법이 아닌 개념으로 접근했을때 이해가 되지 않는다면, 검색이나 책을 통해 포인터와 함수의 기본 개념에 대해서 숙지하는것을 권장합니다.</p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] Setting root url in HEXO</title>
      <link href="/2018/06/27/ETC-Setting-root-url-in-HEXO/"/>
      <url>/2018/06/27/ETC-Setting-root-url-in-HEXO/</url>
      
        <content type="html"><![CDATA[<p>HEXO 블로그를 시작한지 얼마 안됐지만 아직도 세팅은 어렵게만 느껴집니다.<br>제 블로그를 방문했을때 다른 HEXO 블로그처럼 깔끔하게<br><a href="https://dev-sawd.github.io/">https://dev-sawd.github.io/</a><br>이렇게 표시되지 않고</p><p><a href="https://dev-sawd.github.io/dev-sawd.github.io/">https://dev-sawd.github.io/dev-sawd.github.io/</a><br>이렇게 Child가 붙었습니다.</p><p>사실 사용하는데는 문제 없지만(?) url이라는것이 저렇게 끝나는 것이 아니고<br>포스트 디테일 페이지로 들어가게 되면 아래와 같이 매우 길어지는것이 문제였습니다.<br><a href="https://dev-sawd.github.io/dev-sawd.github.io/2018/06/26/Android-Launcher-Icons/">https://dev-sawd.github.io/dev-sawd.github.io/2018/06/26/Android-Launcher-Icons/</a></p><p>3일동안 찾아다닌 끝에 다른분의 블로그 세팅을 뜯어보고 해결 할 수 있게 되었습니다.</p><p>HEXO 정적파일 Root폴더에 있는 _config.yml안에서 설정을 바꿔 해결할 수 있었습니다.<br>예제를 올리니 여러분의 블로그 설정에 맞게 설정하시길 바랍니다.</p><a id="more"></a><figure class="highlight xml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span><br><span class="line">url: https://dev-sawd.github.io</span><br><span class="line">root: /</span><br></pre></td></tr></table></figure><p>위의 코드대로 url과 root를 설정하면<br>로컬작업시 localhost:4000/<br>디플로이시 <a href="https://dev-sawd.github.io/">https://dev-sawd.github.io/</a><br>로 위치가 잡히는 것을 볼 수 있습니다.</p><p>그럼 좋은하루되세요!</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HEXO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] Launcher Icons</title>
      <link href="/2018/06/26/Android-Launcher-Icons/"/>
      <url>/2018/06/26/Android-Launcher-Icons/</url>
      
        <content type="html"><![CDATA[<p>이전에도 런쳐 아이콘을 등록한 적이 있지만 최근에 Android Studio에서 바뀐점이 있어 포스팅합니다.</p><h1 id="Launcher-Icons"><a href="#Launcher-Icons" class="headerlink" title="Launcher Icons"></a>Launcher Icons</h1><p>런처 아이콘은 사용자에게 앱을 대표하여 보여주는 그래픽 아이콘입니다.<br>Google Developers 문서에 이런곳에 사용된다고 합니다.</p><blockquote><ol><li>기기에 설치된 앱의 목록과 메인 스크린</li><li>앱에 대한 단축키를 나타낼 수 있음</li><li>런처 앱에서 사용할 수 있음</li><li>앱 첫인상을 뚜렷이 심어줄 수 있음</li><li>사용자가 Google Play에서 앱을 찾는데 도움을 줄 수 있음</li></ol></blockquote><a id="more"></a><h1 id="Adaptive-Icons"><a href="#Adaptive-Icons" class="headerlink" title="Adaptive Icons"></a>Adaptive Icons</h1><p>안드로이드 O에서 새로운 아이콘 포맷이 추가되었습니다.<br>어댑티브 아이콘이라 불리는 이 포멧은 다양한 장치 모델에 다양한 모양을 표시할 수 있는 아이콘입니다.</p><h1 id="등록-방법"><a href="#등록-방법" class="headerlink" title="등록 방법"></a>등록 방법</h1><p>주로 Image Asset Studio를 이용해서 적용합니다.<br>프로젝트 우클릭 &gt; New &gt; Image Asset으로 실행할 수 있습니다.</p><img src="/2018/06/26/Android-Launcher-Icons/3.png" class=""><p>원하는 아이콘 이미지를 선택하고 가이드라인에 맞춰 Resize를 조절하면 됩니다.</p><img src="/2018/06/26/Android-Launcher-Icons/2.png" class=""><h1 id="이전과는-어떻게-다른가"><a href="#이전과는-어떻게-다른가" class="headerlink" title="이전과는 어떻게 다른가?"></a>이전과는 어떻게 다른가?</h1><p>사실 이전 버전 Legacy도 등록이 가능합니다.<br><del>딱히 사용할 일이 없어졌지만요.</del><br>Icon Type에서 Launcher Icons (Legacy only)를 선택화면 됩니다.</p><p>일단 스크린샷은 아래와 같습니다.</p><img src="/2018/06/26/Android-Launcher-Icons/1.png" class=""><p>비슷하지만 어딘가 단조롭습니다.<br>위에서 사용한 Adaptive Icons로 등록해도 이전 Legacy Icons들도 잘 적용되기 때문에<br>딱히 사용할 필요는 없어 보입니다.<br>제가 가진 가장 옛버전인 galaxy Note 3(5.0)에서도 에쁘게 잘 적용되어 보였습니다.</p><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>제조사도 버전도 다양한 기기들을 지원하기 위한 Google의 노력이 엿보입니다.<br>하지만 가끔 모델, 해상도, 안드로이드 버전에 의해 생기는 이슈는 개발자로 하여금 까다롭고 리소스가 너무 많이 투입되는 작업입니다.<br>계속해서 안드로이드의 하위 버전 호환과 안정화를 위해 힘써줬으면 하는 바램입니다.</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] About ConstraintLayout</title>
      <link href="/2018/06/26/Android-About-ConstraintLayout/"/>
      <url>/2018/06/26/Android-About-ConstraintLayout/</url>
      
        <content type="html"><![CDATA[<p>오늘은 최근에 사용하기 시작한 ConstraintLayout에 대해 이야기해볼까 합니다.<br>“이제야 ConstraintLayout을 사용하기 시작했다구요!?”<br>네.. 그렇습니다.<br>두달 전까지만 해도 저는 LinearLayout과 RelativeLayout을 이용해 UI를 그렸습니다.<br>하지만 새 프로젝트를 시작하며 ConstraintLayout과 CoordinatorLayout을 사용해보고는 자연스럽게 LinearLayout과 RelativeLayout의 사용 빈도가 줄어 들었습니다.<br>특히 RelativeLayout은 더욱요.</p><h1 id="ConstraintLayout"><a href="#ConstraintLayout" class="headerlink" title="ConstraintLayout"></a>ConstraintLayout</h1><p>이 단어를 검색하기만 해도 수많은 사이트들이 쏟아져나올겁니다.<br>한 2년 전 쯤에 처음 접한것 같아요.<br>한창 LinearLayout과 RelativeLayout을 사용하는 제게는 굳이 왜 써야되는지 이해가 안갔습니다.</p><a id="more"></a><h2 id="장점"><a href="#장점" class="headerlink" title="장점"></a>장점</h2><h3 id="같은-코드-맞아"><a href="#같은-코드-맞아" class="headerlink" title="같은 코드 맞아?"></a>같은 코드 맞아?</h3><p>어떤 화면이 있다고 가정합니다.</p><p>아래의 코드는 화면을 RelativeLayout과 LinearLayout으로 표현한 코드입니다.<br>코드가 너무 길어지기 때문에 큰 틀만 보도록 할게요.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RealativeLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">EditText</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LenarLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">EditText</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Relativelayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LelativeLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>아래는 같은 화면을 ConstraintLayout으로 표현한 코드입니다.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ConstraintLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ContraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>말이 필요 없네요.<br>화면에 보여줘야할 뷰가 많아지면 많아질수록 코드는 기하급수적으로 차이날 겁니다.</p><h3 id="마치-그리듯"><a href="#마치-그리듯" class="headerlink" title="마치 그리듯"></a>마치 그리듯</h3><p>UI 화면에서 ConstraintLayout안에 뷰를 끌어다 이리저리 위치시키면 됩니다.<br>그리고 배치한 뷰의 상하좌우 가운데에 있는 ㅇ를 끌어다가 제약조건을 추가하면 됩니다.<br>제약 조건에 따라 뷰가 스르륵 움직이며 어떤 배치인지 다시 나타납니다.</p><blockquote><p>“A는 B의 오른쪽에 위치하고 윗줄은 D와 나란히..”</p></blockquote><p>아래와 같이 직관적으로 표현됩니다.</p><img src="/2018/06/26/Android-About-ConstraintLayout/1.png" class=""><h3 id="예쁜-뷰를-빠르게"><a href="#예쁜-뷰를-빠르게" class="headerlink" title="예쁜 뷰를 빠르게"></a>예쁜 뷰를 빠르게</h3><p>다시 위에서 보여준 사진을 봅시다.<br>키패드와 키패드의 간격이 모두 16으로 설정되어있습니다.<br>RelativeLayout으로 이것을 구현하려면 해당 뷰의 margin을 찾아서 직접 입력해야 합니다.<br>하지만 ConstraintLayout에는 뷰와 뷰 사이의 기본 margin을 설정할 수 있습니다.<br>위에서 그리듯 제약조건을 추가하면 기본으로 8dp의 제약조건이 설정되어 있고 사용자 임의로 간격을 수정할 수 있습니다.</p><p>이미 배치한 뷰의 margin을 수정해야 할때는요?<br>소스코드 바다를 해맬 필요가 없습니다.<br>View Attribute 상단에 우선적으로 margin을 설정할 수 있도록 안드로이드 스튜디오가 지원하고 있습니다.</p><img src="/2018/06/26/Android-About-ConstraintLayout/2.png" class=""><h3 id="진입장벽"><a href="#진입장벽" class="headerlink" title="진입장벽"></a>진입장벽</h3><p>팀원 요청에 따라 ConstraintLayout을 사용하는 방법을 가이드했습니다.</p><ol><li>이전처럼 뷰를 ConstraintLayout안에 배치하구요</li><li>ㅇ 버튼을 눌러 제약조건이 필요한 부분에 끌어다 놓습니다.</li><li>뷰를 부모 뷰 가운데 위치하고 싶다면 상하좌우 제약조건을 부모 뷰 상하좌우에 설정하세요.</li><li>여기 기본적으로 margin이 설정되어 있으니 필요에 따라 수정하세요.</li></ol><p>10분도 안돼서 가이드는 끝났습니다.<br>그리고 이런 피드백이 왔습니다.</p><blockquote><p>이정도면 UI 그릴만 한데..? 내가 할까? ㅋㅋㅋ</p></blockquote><h3 id="추가로"><a href="#추가로" class="headerlink" title="추가로"></a>추가로</h3><p>이 포스트를 쓰면서 알게된 것인데 화면을 처리하는 속도에도 영향이 있다고 합니다.</p><blockquote><p>사용자가 뷰를 보기까지 안드로이드는 3단계를 거칩니다.</p><ol><li>측정</li><li>레이아웃</li><li>그리기</li></ol><p>측정 단계에서는 View의 크기를 결정합니다.<br>측정 노드는 루트 노드에서 시작해서 반복적으로 호출되며, 각각의 호출은 부모로부터 전달된 인자들과 함께 발생합니다.</p><p>레이아웃 단계에서는 각각의 view 크기를 기준으로 view의 위치를 결정합니다.<br>루트 노드에서 시작해서 말단 노드까지 반복적으로 호출됩니다.</p><p>그리기 단계는 스크린에 자신을 그리는 단계입니다.<br>RelativeLayout이 자신을 화면에 그리라는 요청을 받게 되면 자식들에게 자신을 측정하라는 메세지가 전달되며<br>모든 view가 측정될 때까지 이 과정이 계속됩니다.<br>중첩된 레이아웃이 많을수록 측정하는데 걸리는 시간도 늘어나게됩니다.</p></blockquote><h2 id="단점"><a href="#단점" class="headerlink" title="단점"></a>단점</h2><h3 id="생각보다-느립니다"><a href="#생각보다-느립니다" class="headerlink" title="생각보다 느립니다."></a>생각보다 느립니다.</h3><p>위에서 설명한 제약조건이나 뷰를 다시 배치했을때 즉각 반응한다기 보단 조금 기다려야 합니다.</p><h3 id="내가-원하는-소스코드랑-다른데…"><a href="#내가-원하는-소스코드랑-다른데…" class="headerlink" title="내가 원하는 소스코드랑 다른데…"></a>내가 원하는 소스코드랑 다른데…</h3><p>ConstraintLayout뿐만 아니라 예전부터 고질병처럼 쫓아오는 단점입니다.<br>드래그 앤 드롭으로 UI를 그리면 내가 원하지 않는 소스코드들이 덕지덕지 붙어있습니다.<br>굉장히 신경쓰이는 부분입니다.</p><h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>위의 단점에도 불구하고 장점이 강력하기 때문에 앞으로도 계속 사용 될 것입니다.</p><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>제 경험에 비추어 ConstraintLayout에 대해서 적어봤습니다.<br>이 포스트에서 언급하지 않았지만 체인, 비율 등의 장점도 있습니다.</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] Fragment Example</title>
      <link href="/2018/06/25/Android-Fragment-Example/"/>
      <url>/2018/06/25/Android-Fragment-Example/</url>
      
        <content type="html"><![CDATA[<p>오늘 포스트는 이전 포스트에서 언급했던 Fragment에 대해서 간단한 예제를 만들어 보려고 합니다.<br>주말에 포스팅 하려고 했는데 시간도 시간이고 개인적인 스터디를 따로 하고 있어서 짬이 나지 않네요 ㅜㅜ.<br>개인적인 스터디에 대해서 필요한 포스팅은 또 따로 진행하도록 하겠습니다.<br>각설하고 시작해봅시다.</p><h1 id="어떤-예제를-만들-것인가"><a href="#어떤-예제를-만들-것인가" class="headerlink" title="어떤 예제를 만들 것인가?"></a>어떤 예제를 만들 것인가?</h1><p>사실 너무 간단한 예제입니다.<br>스크린샷부터 볼게요.</p><img src="/2018/06/25/Android-Fragment-Example/1.png" class=""><p>2개의 Fragment를 만들고(분홍색, 파란색)<br>Fragment 1 버튼을 눌렀을 때는 분홍색 Fragment가<br>Fragment 2 버튼을 눌렀을 때는 파란색 Fragment가 보이도록 할 겁니다.</p><a id="more"></a><h1 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h1><p>아래와 같이 액티비티를 만들었습니다.<br>상단에 버튼을 2개 배치하고 하단에는 Fragment 영역을 두었습니다.</p><img src="/2018/06/25/Android-Fragment-Example/3.png" class=""><h2 id="activity-main-xml"><a href="#activity-main-xml" class="headerlink" title="activity_main.xml"></a>activity_main.xml</h2><figure class="highlight xml"><figcaption><span>activity_main.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btnShowFragment1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Fragment 1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btnShowFragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Fragment 2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintHorizontal_bias</span>=<span class="string">"0.0"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toEndOf</span>=<span class="string">"@+id/btnShowFragment1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_container"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginBottom</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginEnd</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintEnd_toEndOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">"@+id/btnShowFragment2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="MainActivity-java"><a href="#MainActivity-java" class="headerlink" title="MainActivity.java"></a>MainActivity.java</h2><figure class="highlight java"><figcaption><span>MainActivity.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sawd.app.fragmentexam;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        Button btnShowView1 = findViewById(R.id.btnShowFragment1);</span><br><span class="line">        btnShowView1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">                fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment1());</span><br><span class="line">                fragmentTransaction.commit();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Button btnShowView2 = findViewById(R.id.btnShowFragment2);</span><br><span class="line">        btnShowView2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">                fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment2());</span><br><span class="line">                fragmentTransaction.commit();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">        fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment1());</span><br><span class="line">        fragmentTransaction.commit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Fragment는 FragmentManager를 이용해서 FragmentTransaction 인스턴스를 통해 사용 가능합니다.<br>바로 아래의 코드가 FragmentTransaction을 가져오는 부분입니다.</p><figure class="highlight java"><figcaption><span>get FragmentTransaction</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br></pre></td></tr></table></figure><p>이 FragmentTransaction을 이용해 변경 사항을 설정하기 위해 add(), remove(), replace()와 같은 메서드를 이용할 수 있습니다.<br>저는 replace를 이용해 화면 전환을 구현했습니다.</p><figure class="highlight java"><figcaption><span>replace method</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> FragmentTransaction <span class="title">replace</span> <span class="params">(<span class="keyword">int</span> containerViewId, </span></span></span><br><span class="line"><span class="function"><span class="params">                Fragment fragment)</span></span></span><br></pre></td></tr></table></figure><p>replace의 첫번째 인자는 Fragment를 나타낼 뷰, 두번째 인자는 해당 Fragment를 넘겨주면 됩니다.<br>코드는 이렇게 되겠네요.</p><figure class="highlight java"><figcaption><span>how to call replace method</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment1());</span><br></pre></td></tr></table></figure><p>FragmentTransaction을 변경하고 나면 반드시 commit()을 호출해야 변경 내용이 적용됩니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fragmentTransaction.commit();</span><br></pre></td></tr></table></figure><p>완성된 코드 뭉치는 이렇게 됩니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment1());</span><br><span class="line">fragmentTransaction.commit();</span><br></pre></td></tr></table></figure><p>다시 MainActivity.java로 돌아와서 아래의 문구가 이해가 되실겁니다.<br>btnShowView1 버튼을 누르면 Fragment1<br>btnShowView2 버튼을 누르면 Fragment2를 보여줍니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Button btnShowView1 = findViewById(R.id.btnShowFragment1);</span><br><span class="line">btnShowView1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">        fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment1());</span><br><span class="line">        fragmentTransaction.commit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Button btnShowView2 = findViewById(R.id.btnShowFragment2);</span><br><span class="line">btnShowView2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">        fragmentTransaction.replace(R.id.fragment_container, <span class="keyword">new</span> Fragment2());</span><br><span class="line">        fragmentTransaction.commit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h1><h2 id="Fragment1-xml"><a href="#Fragment1-xml" class="headerlink" title="Fragment1.xml"></a>Fragment1.xml</h2><p>크게 의미없는 배경만 있는 코드지만 혹시 필요로하는 분들을 위해 작성합니다.</p><figure class="highlight xml"><figcaption><span>fragment1.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/parentView"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Fragment1-java"><a href="#Fragment1-java" class="headerlink" title="Fragment1.java"></a>Fragment1.java</h2><figure class="highlight java"><figcaption><span>Fragment1.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sawd.app.fragmentexam;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fragment1</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                             Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        View parentView = inflater.inflate(R.layout.fragment1, container, <span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">// Inflate the layout for this fragment</span></span><br><span class="line">        <span class="keyword">return</span> parentView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Fragment2-xml"><a href="#Fragment2-xml" class="headerlink" title="Fragment2.xml"></a>Fragment2.xml</h2><p>Fragment1과 완전 같고 xml의 background만 다릅니다.</p><figure class="highlight xml"><figcaption><span>fragment2.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/parentView"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Fragment2-java"><a href="#Fragment2-java" class="headerlink" title="Fragment2.java"></a>Fragment2.java</h2><figure class="highlight java"><figcaption><span>Fragment2.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sawd.app.fragmentexam;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fragment1</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                             Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        View parentView = inflater.inflate(R.layout.fragment1, container, <span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">// Inflate the layout for this fragment</span></span><br><span class="line">        <span class="keyword">return</span> parentView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>간단하게 Fragment를 사용하는 방법을 알아봤는데요.<br>이것으로 무궁무진한 Fragment를 사용할 수는 없지만 기초라고 할 수 있습니다.<br>포스트에 모든 소스코드를 첨부해서 크게 필요없다고 생각되지만<br>혹시나 프로젝트 단위로 다운받고싶은 분이 있을까 해서 링크 남깁니다.</p><a href="https://github.com/dev-sawd/Fragment-Example" title="" target="">Fragment-Example</a>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
            <tag> Example </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] About fragment</title>
      <link href="/2018/06/21/Android-About-fragment/"/>
      <url>/2018/06/21/Android-About-fragment/</url>
      
        <content type="html"><![CDATA[<p>좋은 예제나 라이브러리에 심심치 않게 Fragment를 사용하는것을 보았습니다.<br>잘은 모르겠지만 Activity와 비슷한 것 같은데..<br>명확한 차이를 알 수 없어 알아보았습니다.</p><p>일단 Fragment가 나오기 전 상황을 좀 알아야 겠군요.</p><h1 id="Activity-Context"><a href="#Activity-Context" class="headerlink" title="Activity, Context"></a>Activity, Context</h1><p>안드로이드 시작과 함께 Activity가 무엇인지 Context가 무엇인지 알아야 했습니다.<br>기존에 C, C++, Java를 배울때와는 사뭇 다르고 저에게는 러닝 커브또한 굉장히 높았습니다.<br>점점 익숙해질 무렵 Activity는 어플리케이션 구성 요소로 단어 그대로 사용자가 어떠한 행위를 하기 위해 작용할 수 있는 화면이고<br>Context는 Activity에 따라 정보를 담고 있는 인터페이스라는것을 알게되었습니다.<br>이 두가지의 개념으로 화면단위를 컨트롤하고 문제없이 개발이 되는 줄 알았습니다.</p><p>어플리케이션의 덩치는 날로 커져갔습니다.<br>단순히 Multi Activity로 해결되던 어플리케이션이 그 이상의 수준을 넘어 <strong>Super Ultra Multi Activity</strong>로 엄청난 서비스를 제공하는 어플리케이션이 등장합니다.</p><p>그런데 여기서 문제점이 생깁니다.<br>많이 흡사한 페이지가 여러개인데.. 그때마다 Activity와 Layout이 하나씩 생성되고 중복 코드들이 기하급수적으로 늘어나게 됩니다.</p><p>이때 Google에서 Fragment를 조용히 내놓습니다.</p><a id="more"></a><h1 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h1><p>구글은 이렇게 설명하고 있습니다.</p><blockquote><p>Fragment는 동작 또는 Activity 내에서 사용자 인터페이스의 일부를 나타냅니다. 여러 개의 프래그먼트를 하나의 액티비티에 조합하여 창이 여러 개인 UI를 구축할 수 있으며, 하나의 프래그먼트를 여러 액티비티에서 재사용할 수 있습니다. 프래그먼트는 자체 수명 주기를 가지고, 자체 입력 이벤트를 받으며, 액티비티 실행 중에 추가 및 제거가 가능한 액티비티의 모듈식 섹션이라고 생각하면 됩니다(다른 액티비티에 재사용할 수 있는 “하위 액티비티”와 같은 개념).</p></blockquote><p>간단히 설명하면 한 액티비티 안에서 프래그먼트로 지정한 영역에 뷰를 바꿔칠수 있다는 얘깁니다.<br>위에서 설명한 파일 관리나 중복 코드들이 기하급수적으로 늘어나는 유지보수가 편해지는 소리가 들립니다.</p><h2 id="프래그먼트를-생성하는-과정"><a href="#프래그먼트를-생성하는-과정" class="headerlink" title="프래그먼트를 생성하는 과정"></a>프래그먼트를 생성하는 과정</h2><p>프래그먼트를 생성하기 위해서는 최소한의 수명 주기 메서드를 구현해야 합니다.</p><blockquote><p>onCreate()<br>시스템은 프래그먼트를 생성할 때 이것을 호출합니다. 구현 내에서 프래그먼트의 기본 구성 요소 중 프래그먼트가 일시정지되거나 중단되었다가 재개되었을 때 유지하고자 하는 것을 초기화해야 합니다.</p><p>onCreateView()<br>시스템은 프래그먼트가 자신의 사용자 인터페이스를 처음으로 그릴 시간이 되면 이것을 호출합니다. 프래그먼트에 맞는 UI를 그리려면 메서드에서 View를 반환해야 합니다. 이 메서드는 프래그먼트 레이아웃의 루트입니다. 프래그먼트가 UI를 제공하지 않는 경우 null을 반환하면 됩니다.</p><p>onPause()<br>시스템이 이 메서드를 호출하는 것은 사용자가 프래그먼트를 떠난다는 첫 번째 신호입니다(다만 이것이 항상 프래그먼트가 소멸 중이라는 뜻은 아닙니다). 현재 사용자 세션을 넘어서 지속되어야 하는 변경 사항을 커밋하려면 보통 이곳에서 해야 합니다(사용자가 돌아오지 않을 수 있기 때문입니다).</p></blockquote><p>일단 Activity와 비슷합니다.<br>그렇다면 생명주기가 어떤지 확인할 필요가 있겠네요</p><h2 id="생명주기가-이게뭐지"><a href="#생명주기가-이게뭐지" class="headerlink" title="생명주기가 이게뭐지?"></a>생명주기가 이게뭐지?</h2><img src="/2018/06/21/Android-About-fragment/1.png" class=""><p>Activity 생명주기와 함께 그안에서 동작하는 하나가 아닌 다수의 Fragment를 관리해야 하는데…<br>그 Fragment의 생명주기가 이렇답니다.</p><p>Activity 상태에 따라서는..</p><img src="/2018/06/21/Android-About-fragment/2.png" class=""><p>Fragment는 Activity 상태에 따라 세분화 해서 관리해야 한다는 의미로 보여집니다.</p><p>혹시 설명이 필요할 지 모르니 간단히 구글의 설명을 인용합니다.</p><blockquote><p>프래그먼트의 수명 주기를 관리하는 것은 액티비티의 수명 주기를 관리하는 것과 매우 비슷합니다. 액티비티와 마찬가지로 프래그먼트는 세 가지 상태로 존재할 수 있습니다.</p><p>재개됨(Resumed)<br>프래그먼트가 실행 중인 액티비티에 표시됩니다.</p><p>일시정지됨(Paused)<br>또 다른 액티비티가 포그라운드에 있고 포커스를 갖고 있지만, 이 프래그먼트가 있는 액티비티도 여전히 표시됩니다(포그라운드의 액티비티가 부분적으로 투명하거나 전체 화면을 뒤덮지 않습니다).</p><p>정지됨(Stopped)<br>프래그먼트가 표시되지 않습니다. 호스트 액티비티가 정지되었거나 프래그먼트가 액티비티에서 제거되었지만 백 스택에 추가되었습니다. 정지된 프래그먼트도 여전히 표시는 됩니다(모든 상태 및 멤버 정보를 시스템이 보존합니다). 하지만, 사용자에게는 더 이상 표시되지 않으며 액티비티를 종료하면 이것도 종료됩니다.</p></blockquote><h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p><del>나쁘지 않습니다.</del><br>Fragment를 사용하기 위해 알아야 될 것이 한두가지가 아니라는 생각이 듭니다.<br>많이 알아야 한다는 것은 복잡하며 신경써야 할 일이 많다는 것과 일맥상통합니다.<br>저렇게 복잡한 생명주기의 Fragment를 하나가 아니고 여러개를 사용하려면 굉장한 학습과 내공이 필요한 것 같습니다.<br>내용에서 알 수 있듯, 이 Fragment는 간단히 이론으로만 넘길 수 없겠네요.<br>조만간 간단한 예제를 들고 소스코드와 함께 설명하겠습니다.</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] 앱이 갑자기 꺼지는 이슈</title>
      <link href="/2018/06/20/Android-WTF-App-crash/"/>
      <url>/2018/06/20/Android-WTF-App-crash/</url>
      
        <content type="html"><![CDATA[<p>이번 포스트는 며칠전에 맞닥들인 이슈와 해결을 서술할까 합니다.</p><h1 id="WTF"><a href="#WTF" class="headerlink" title="WTF?"></a>WTF?</h1><p>구글맵을 사용하는 앱을 한창한창 개발중에 이슈가 터졌습니다.<br>구글맵 화면에서 마커를 보여주거나 이미지를 보여주는등 이런저런 처리를 하는데 앱의 퍼포먼스가 갑자기 떨어지기 시작했습니다.<br>그러더니 앱이 갑자기 꺼지는 사태가.. 심지어 앱이 비정상 종료되었고 다시 실행하겠냐는 팝업이 뜨지 않았습니다.<br>테스트로 사용한 폰은 무려 Galaxy S8+였는데..<br>사실 이 페이지를 그때 생성한것이 아니고 한달전부터 생성해서 써오던 페이지였는데 이런 크리티컬한 이슈라니 조금 황당했습니다.</p><h2 id="원인을-찾자"><a href="#원인을-찾자" class="headerlink" title="원인을 찾자"></a>원인을 찾자</h2><p>항상 하던대로 로그캣을 켜봤습니다.</p><img src="/2018/06/20/Android-WTF-App-crash/1.png" class=""><a id="more"></a><p><strong>?!</strong><br>앱이 강제 종료 되었는데.. 평소에 보이던 빨간 에러로그는 찾을 수 없었습니다.<br>재현 증상을 발견하기 위해 몇번 동일한 방법으로 테스트 해봤더니 역시나 뜨지 않더군요..</p><p>의심이 가는 부분은 로그캣 마지막 줄에 보이는 GC(Garbage Collector)에 관한 로그였습니다.</p><p>Android Studio를 3.1.2로 업데이트 하면서 이전에 잘 사용하지 않던 Profiler를 켜봤습니다.<br>그리고 재현 경로를 반복 실행하여 테스트를 다시 실시하였습니다.</p><img src="/2018/06/20/Android-WTF-App-crash/2.png" class=""><h2 id="메모리-사용량-때문이-맞는-것-같다"><a href="#메모리-사용량-때문이-맞는-것-같다" class="headerlink" title="메모리 사용량 때문이 맞는 것 같다"></a>메모리 사용량 때문이 맞는 것 같다</h2><p>재현 경로(빨간 박스 부분에 보라색 점)에 맞춰 중간까지 메모리가 계속 치솟다가 줄어들면서 앱이 꺼집니다.<br>거의 저 중간 시점부터 퍼포먼스가 느려지는것을 확인할 수 있었습니다.<br>메모리 최대 사용량은 600Mb까지 올라갔다가 떨어졌습니다.</p><p>해당 부분 코드를 확인해보니 GroundOverlay에서 이미지 할당은 계속 하는데 안쓰는 값에 대해서는 제때 해제를 하지 않아서 나타나는 현상이였습니다.<br>작은 이미지로 테스트 해 본 결과 맵 위에 해당 이미지들이 겹쳐져서 계속 쓰여지고 있었습니다.<br>아마 큰 이미지를 계속 쓰고있어서 서로 겹치는지 육안으로 확인이 안됐기 때문에 더 늦게 발견한 것 같습니다.</p><h2 id="방어코드-적용"><a href="#방어코드-적용" class="headerlink" title="방어코드 적용"></a>방어코드 적용</h2><p>간단히 방어코드를 작성하였습니다.<br>GroundOverlay 객체를 안쓰는 시점에서 해제해주면됩니다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GroundOverlay overlay = googleMap.addGroundOverlay(overlayOptions);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">overlay.remove(); <span class="comment">// 안쓰는 시점에서 해제</span></span><br><span class="line">overlay = <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>이제 필요없는 GroundOverlay는 지도에서 삭제될 것입니다.</p><h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><p>해당 코드를 적용후 다시 실행해보았습니다.</p><img src="/2018/06/20/Android-WTF-App-crash/3.png" class=""><p>이전에 비해서 확실히 메모리를 덜 쓰고 있다는 것을 알 수 있습니다.<br>최대 300Mb 선에서 더 올라가지 않았습니다.</p><p>메모리 사용 영역(파란색 그래프)를 한번 클릭하면 더 자세히 볼 수 있습니다.</p><img src="/2018/06/20/Android-WTF-App-crash/4.png" class=""><p>쓰레기통 아이콘으로 가비지컬렉터가 언제 작동하고 그에따른 메모리의 변화도 같이 볼 수 있어 편합니다.</p><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>어쩌면 미궁으로 빠질 수 있었던 문제였습니다.<br>다행히 찍기(?)로 문제를 확인하고 해결할 수 있었는데 개발자는 다양한 문제에 접하고 해결하는 것도 성장하는 방법이라고 생각합니다.<br>이러한 경험치들이 쌓이면 더 빨리 어떤 문제에 대해서 해결 할 수 있으니 퍼포먼스도 좋아질 것입니다.</p><p>Android Profiler를 써본 소감은 실시간으로 앱의 상태를 확인 할 수 있어 편리했습니다.<br>무거운 앱을 만들 일이 없어서 사용 안했었는데 앞으로 자주 접할 것 같습니다.<br>Profiler에 대해서 더 궁금해졌으니 조만간 분석해보고 사용방법이나 나만의 팁을 포스팅하겠습니다.</p><p>그럼 좋은하루되세요!</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Troubleshooting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[iOS] 새로운 뷰컨트롤러를 시작하는 방법</title>
      <link href="/2018/06/18/iOS-how-to-start-new-viewcontroller/"/>
      <url>/2018/06/18/iOS-how-to-start-new-viewcontroller/</url>
      
        <content type="html"><![CDATA[<h1 id="이틀…"><a href="#이틀…" class="headerlink" title="이틀…"></a>이틀…</h1><p>버튼을 눌렀을때 메뉴페이지를 띄우는 부분을 구현할 차례가 왔습니다.<br>아직 iOS개발 초짜다 보니 이런것을 알아가는데도 시간이 굉장히 오래 걸리는 것 같습니다.<br>무려 이틀이나 걸렸네요.<br>검색해도 잘 안나오는 것이 안드로이드처럼 접근하면 안될 것 같다는 느낌이 듭니다.<br>각설하고 정리를 시작합니다.</p><h2 id="ViewController"><a href="#ViewController" class="headerlink" title="ViewController"></a>ViewController</h2><p>프로젝트 생성시 만들어지는 뷰 컨트롤러를 Main으로 잡았습니다.</p><img src="/2018/06/18/iOS-how-to-start-new-viewcontroller/1.png" class=""><p>ViewController는 위와 같습니다.<br>오른쪽 위에 메뉴를 눌렀을때 MenuViewController가 뜨도록 할거에요.</p><a id="more"></a><p>코드는 필요있는 부분만 편집해서 작성하였습니다.</p><figure class="highlight objc"><figcaption><span>ViewController.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *buttonMenu; <span class="comment">// 메뉴 버튼을 만들고</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">IBAction</span>)showMenu:(<span class="keyword">id</span>)sender; <span class="comment">// 메뉴 버튼이 눌렸을때 처리할 메소드</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><figcaption><span>ViewController.m</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"MenuViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">- (<span class="keyword">IBAction</span>)showMenu:(<span class="keyword">id</span>)sender&#123;</span><br><span class="line">    <span class="comment">// StoryBoard 이름은 Mian.storyboard</span></span><br><span class="line">    <span class="built_in">UIStoryboard</span> *sb = [<span class="built_in">UIStoryboard</span> storyboardWithName:<span class="string">@"Main"</span> bundle:[<span class="built_in">NSBundle</span> mainBundle]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 메뉴 뷰컨트롤러 Identifier는 MenuViewController입니다.</span></span><br><span class="line">    MenuViewController *svc = [sb instantiateViewControllerWithIdentifier:<span class="string">@"MenuViewController"</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.navigationController) &#123;</span><br><span class="line">        [[<span class="keyword">self</span> navigationController] pushViewController:svc animated:<span class="literal">YES</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        [<span class="keyword">self</span> presentViewController:svc animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><h2 id="MenuViewController"><a href="#MenuViewController" class="headerlink" title="MenuViewController"></a>MenuViewController</h2><p>메뉴 뷰컨트롤러에서는 Back버튼을 만들어서 이전 컨트롤러로 돌아오는 방법을 구현할겁니다.</p><img src="/2018/06/18/iOS-how-to-start-new-viewcontroller/3.png" class=""><p>사실 ViewController위에 MenuViewController가 겹쳐있는 상태에서 MenuViewController를 종료한다는 것이 더 정확한 표현이겠네요.<br>어쨌거나 사용자로 하여금 뷰 컨트롤러를 왔다 갔다 하는 효과를 줄 수 있습니다.</p><figure class="highlight objc"><figcaption><span>MenuViewController.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MenuViewController</span> : <span class="title">UIViewController</span></span>&#123;</span><br><span class="line">    <span class="keyword">IBOutlet</span> <span class="built_in">UIButton</span> *buttonBack;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">IBAction</span>)closePage:(<span class="keyword">id</span>)sender;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><figure class="highlight objc"><figcaption><span>MenuViewController.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"MenuViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MenuViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MenuViewController</span></span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">-(<span class="keyword">IBAction</span>)closePage:(<span class="keyword">id</span>)sender&#123;</span><br><span class="line">    <span class="comment">// 자기 자신을 종료합니다.</span></span><br><span class="line">    [<span class="keyword">self</span> dismissViewControllerAnimated:<span class="literal">YES</span> completion:Nil];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><p>이제 가장 중요한 설정이 있습니다.<br>메뉴 뷰컨트롤러의 Identifier를 정해주는 것인데요.<br>ViewController.m에서 작성한 아래의 구문에 들어가는 “MenuViewController”를 명시해야 합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MenuViewController *svc &#x3D; [sb instantiateViewControllerWithIdentifier:@&quot;MenuViewController&quot;];</span><br></pre></td></tr></table></figure><p>스토리보드에서 MenuViewController를 클릭하고 우측 영역에서 3번째 탭<br>show the identity inspector를 열어서 아래와 Identity의 Storyboard ID를 설정해주세요.</p><img src="/2018/06/18/iOS-how-to-start-new-viewcontroller/2.png" class=""><h1 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h1><p>설명 안한 부분에 대해서는 책에서도 금방 얻을 수 있는 정보거나 세세한 정보까지 정리할 시간이 없어서 하지 않는 경우가 많습니다.<br>앞으로 시간이 나고 블로깅 스킬이 늘어나면 글쓰는 시간이 줄면서 조금 더 자세히 쓸 수 있지 않을까 기대합니다.<br>그럼 이번 포스트는 여기서 마칩니다.</p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[ETC] Kotlin vs Java</title>
      <link href="/2018/06/17/ETC-Kotlin-vs-Java/"/>
      <url>/2018/06/17/ETC-Kotlin-vs-Java/</url>
      
        <content type="html"><![CDATA[<h1 id="아직까지는"><a href="#아직까지는" class="headerlink" title="아직까지는.."></a>아직까지는..</h1><p>회사나 개인 프로젝트에서 사용하는 언어는 Kotlin보다는 Java입니다.<br>하지만 요즘 주변에서 Java만큼이나 Kotlin에 대해서 정보가 많이 들어옵니다.<br>아직 사용해보지 않은 Kotlin에 대해서 짧게나마 알아보고자 합니다.</p><h1 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h1><p>Kotlin은 JVM, Android, Browser를 위한 정적 타입의 프로그래밍 언어입니다.<br>정적 으로 타입이 지정된다는 것은 Java와는 다른것입니다.</p><a id="more"></a><h2 id="특징"><a href="#특징" class="headerlink" title="특징"></a>특징</h2><h3 id="타입-추론"><a href="#타입-추론" class="headerlink" title="타입 추론"></a>타입 추론</h3><p>Kotlin은 타입추론이 가능합니다.<br>어떤 변수에 값을 지정하는 것 만으로 그 변수가 어떤 형태인지를 유추해서 지정한다는 것 입니다.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"SAWD"</span></span><br></pre></td></tr></table></figure><h3 id="간결해진-문법"><a href="#간결해진-문법" class="headerlink" title="간결해진 문법"></a>간결해진 문법</h3><p>Kotlin은 이 name을 문자열로 선언합니다.<br>세미콜론도 필요없고 한층 더 간결해진 문법입니다.</p><h3 id="Null-체크"><a href="#Null-체크" class="headerlink" title="Null 체크"></a>Null 체크</h3><p>Java를 사용하면서 항상 따라다니는 NullPointException에서 해방될 수 있습니다.<br>접근하고자 하는 변수나 클래스가 언제 null인지 알 수 있으며 컴파일러가 이것을 확인하도록 합니다.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name: String = <span class="string">"SAWD"</span></span><br><span class="line">name = <span class="literal">null</span> <span class="comment">// error</span></span><br></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name: String? = <span class="string">"SAWD"</span></span><br><span class="line">name = <span class="literal">null</span> <span class="comment">// ok</span></span><br></pre></td></tr></table></figure><h3 id="스마트-캐스팅"><a href="#스마트-캐스팅" class="headerlink" title="스마트 캐스팅"></a>스마트 캐스팅</h3><p>name의 타입을 확인한 후 String으로 캐스팅합니다.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (name <span class="keyword">is</span> String) &#123;</span><br><span class="line">    <span class="keyword">return</span> name.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="이외에"><a href="#이외에" class="headerlink" title="이외에"></a>이외에</h2><p>특이한 점은 Java와 함께 사용할 수 있다는 점이며 JVM으로 실행 할 수 있는 바이트 코드로 컴파일됩니다.<br>또한 Android IDE를 개발한 제트브레인에서 내놓은 언어인 만큼 Android Studio에서 클릭 몇번으로 Java에서 Kotlin으로 코드 컨버트가 가능합니다.<br>모두가 우려하는 Java와의 호환을 제트브레인은 “100% 가능하다”라고 설명했습니다.</p><h1 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h1><p>현재 Android에서 Java로 개발하는 것 보다 코드의 양이 줄고 널 포인트에 대한 안정성 때문에 조금씩 무게가 옮겨가는 추세인듯 합니다.<br>조만간 저도 개인 프로젝트에서 Java대신에 Kotlin을 학습하여 적용해 볼 예정입니다.<br>작은 프로젝트를 진행해보고 소감을 적어 제가 느낀점을 공유 할 예정입니다.</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[iOS] UILabel을 클릭했을때 처리</title>
      <link href="/2018/06/16/iOS-How-to-add-tapgesture-at-UILabel/"/>
      <url>/2018/06/16/iOS-How-to-add-tapgesture-at-UILabel/</url>
      
        <content type="html"><![CDATA[<h1 id="개인-프로젝트를-진행하면서"><a href="#개인-프로젝트를-진행하면서" class="headerlink" title="개인 프로젝트를 진행하면서.."></a>개인 프로젝트를 진행하면서..</h1><p>UILabel을 탭했을때 페이지를 넘어가거나 특정 일을 처리해야 하는 경우가 생겼습니다.<br>iOS와 특히 Objective C 문법 개념을 같이 학습하려고 하니 필요한 부분들은 정리해 둘 필요가 있는것 같습니다.<br><del>그래야 안잊어 버립니다..</del></p><p>검색해보니 생각보다 간단하게 처리할 수 있을 것 같습니다.<br>저는 viewDidLoad에 아래와 같이 UILabel을 클릭했을때 호출할 delegate와 action을 설정하였습니다.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    ...</span><br><span class="line">    [labelMenu setUserInteractionEnabled:<span class="literal">YES</span>];</span><br><span class="line">    <span class="built_in">UITapGestureRecognizer</span> *tapGesture = [[<span class="built_in">UITapGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(labelTap:)];</span><br><span class="line">    [tapGesture setDelegate:<span class="keyword">self</span>];</span><br><span class="line">    [labelMenu addGestureRecognizer:tapGesture];</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>그리고 같은 파일안에서 labelTap을 정의하고 처리작업을 넣었습니다.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)labelTap:(<span class="built_in">UITapGestureRecognizer</span> *)recognizer &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"label is tapped"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이제 해당 UILabel을 클릭하면 Log가 찍히는 것을 볼 수 있을 것입니다.</p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Android] About Material Design</title>
      <link href="/2018/06/15/Android-About-Material-Design/"/>
      <url>/2018/06/15/Android-About-Material-Design/</url>
      
        <content type="html"><![CDATA[<h1 id="Material"><a href="#Material" class="headerlink" title="Material?"></a>Material?</h1><p>머티리얼 디자인은 기존에 안드로이드의 사용성, 가독성이 떨어지는 디자인을 개선하고 일관되도록 하는 지침입니다.<br>빠른 디바이스의 성장에 발맞추어 UI/UX도 진화해야 한다고 생각한 구글의 주도하에 이루어지고 있습니다.<br>구글은 모바일과 데스크탑 그리고 이외에 다양한 디바이스에서 적용할 수 있고 또 그렇게 하도록 가이드하고 있습니다.</p><p>머티리얼 디자인은 질감이 느껴지는 표면(tactile surfaces)과 대담하고 선명한 그래픽 디자인(bold graphic design),<br>그리고 아름답고 직관적인 사용자 경험을 위한 자연스러운 애니메이션을 특징으로 합니다.</p><p>설명이 어렵다구요? Google Developers에서 제작한 영상을 보면 더 쉽게 와닿을겁니다.</p><div class="video-container"><iframe src="https://www.youtube.com/embed/Q8TXgCzxEnw" frameborder="0" loading="lazy" allowfullscreen></iframe></div><a id="more"></a><p>또는 아래의 사이트에서 머티리얼에 대해서 구경하세요.</p><a href="https://material.io/" title="" target="">Material IO</a><h2 id="Material-Design이-적용된-사이트"><a href="#Material-Design이-적용된-사이트" class="headerlink" title="Material Design이 적용된 사이트"></a>Material Design이 적용된 사이트</h2><p>여러분은 이미 Material Design에 많이 노출되어 있습니다.<br>많은 유저들이 사용하고 있는 Youtube. </p><img src="/2018/06/15/Android-About-Material-Design/1.png" class=""><p>이미 머티리얼 디자인이 적용되어있는 사이트입니다.<br>또한 SAWD 제 블로그도 머티리얼 디자인이 적용되어 있습니다.</p><p>Google 메인 페이지 또한 적용되어 있습니다.</p><img src="/2018/06/15/Android-About-Material-Design/2.png" class=""><p>그외에 Google Drive, Gmail, Google Maps등 많은 사이트에 적용되어 있습니다.</p><h2 id="그래서-어떤-것들을-만들-수-있지"><a href="#그래서-어떤-것들을-만들-수-있지" class="headerlink" title="그래서 어떤 것들을 만들 수 있지?"></a>그래서 어떤 것들을 만들 수 있지?</h2><p>앞으로 시간이 날 때마다 공부하면서 간단한 샘플을 만들 예정이지만 당장 여러분들이 실행해 확인해 볼 수 있는 샘플을 몇가지 소개합니다.</p><img src="https://github.com/Eajy/MaterialDesignDemo/raw/master/pictures/1.png" class=""><a href="https://github.com/Eajy/MaterialDesignDemo" title="" target="">Eajy - Material Design Demo</a><img src="https://codelabs.developers.google.com/codelabs/material-design-style/img/c5bfb192851b19a5.png" class=""><a href="https://codelabs.developers.google.com/codelabs/material-design-style/index.html?index=..%252F..%252Findex#0" title="" target="">codelabs - Material Design Style</a>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Material Design </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Objectiv-C] id에 대해서</title>
      <link href="/2018/06/15/Objectiv-C-id/"/>
      <url>/2018/06/15/Objectiv-C-id/</url>
      
        <content type="html"><![CDATA[<h1 id="설명에-앞서"><a href="#설명에-앞서" class="headerlink" title="설명에 앞서"></a>설명에 앞서</h1><p>블로그에 쓰고있는 순서는 배움의 순서와는 상관이 없습니다.<br>단지 제가 필요하거나 혹은 방문자분들께 도움이 될만한 정보를 조각내서 올릴 예정입니다.<br>강좌 방식을 원하는 분들과는 조금 거리가 있을 수 있습니다.</p><h1 id="포인터는-포인터인데"><a href="#포인터는-포인터인데" class="headerlink" title="포인터는 포인터인데.."></a>포인터는 포인터인데..</h1><p>객체를 가리키기 위한 포인터를 선언 할 때 해당 객체의 클래스를 지정합니다.</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *str;</span><br></pre></td></tr></table></figure><a id="more"></a><p>하지만 정확히 어떤 객체를 가리킬지 정의하지 않고 일단 포인터만 만들어야 할 때도 있습니다.<br>이럴때 사용할 수 있는 타입이 id입니다.</p><p>“일단 만들긴 하는데 어떤걸 가리킬지는…”</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 변수로 선언</span></span><br><span class="line"><span class="keyword">id</span> delegate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 메서드 선언. id를 반환 가능</span></span><br><span class="line">-(<span class="keyword">id</span>) foo: (<span class="keyword">int</span>)</span><br></pre></td></tr></table></figure><p>일단 유심히 봐야할 점이 애스터리시크(*)가 없습니다.<br>id가 애스터리스크를 내포하고 있기 때문입니다.</p><p>Objective-C Documentation에서는 아래와 같이 정의하고 있습니다.</p><img src="/2018/06/15/Objectiv-C-id/1.jpg" class=""><h2 id="예시"><a href="#예시" class="headerlink" title="예시"></a>예시</h2><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *str = <span class="string">@"what is id in Objective-C?"</span>;</span><br><span class="line"><span class="keyword">id</span> title = str;</span><br></pre></td></tr></table></figure><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">id</span> data = <span class="string">"..."</span>;</span><br><span class="line"><span class="built_in">NSString</span> *desc = [data description];</span><br></pre></td></tr></table></figure><h1 id="꼭-알아야-하는-개념"><a href="#꼭-알아야-하는-개념" class="headerlink" title="꼭 알아야 하는 개념?"></a>꼭 알아야 하는 개념?</h1><p>분명히 Documentation에 많은 부분이 id를 리턴하는 형태로 되어있을 것 입니다.<br>하지만 처음부터 id에 대해서 깊게 다가가기 보다는 대략적인 개념만 알고 다음에 다시 찾아볼 기회가 있을 것 입니다.<br>자주 사용하고, 자주 보게되는 문법, 메소드 들은 자연스레 익혀지기 마련입니다.</p>]]></content>
      
      
      <categories>
          
          <category> Objective-C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PNG? SVG?</title>
      <link href="/2018/06/14/png-svg/"/>
      <url>/2018/06/14/png-svg/</url>
      
        <content type="html"><![CDATA[<h1 id="이미지…"><a href="#이미지…" class="headerlink" title="이미지…"></a>이미지…</h1><p>공부용으로 만들고있는 어플리케이션에 사용할 이미지를 찾고있는데 꼭 다운로드 포멧에 PNG와 함께 SVG가 있었습니다.<br>너무 당연하게 PNG로만 다운받아서 사용하고(사실 이게 쓰기도 편하긴 한데..) 있었는데 문득 SVG가 무엇인지 궁금했습니다.<br>그래서 짧은 시간 동안 특징만 알아보고 앞으로 PNG와 SVG의 사용을 달리하려고 합니다.</p><a id="more"></a><h2 id="PNG"><a href="#PNG" class="headerlink" title="PNG"></a>PNG</h2><p>Portable Network Graphics<br>무손식 압축 포멧으로 256색에 한정되던 GIF의 한계를 극복하고 32비트 트루컬러를 표현할 수 있습니다.<br>아쉽게 GIF는 지원하지 않습니다.<br>알파채널을 이용해 불투명도를 지정할 수 있는 것이 특징입니다.</p><h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><p>Scalable Vector Graphics<br>벡터 이미지의 공통적인 특성으로 확대를 해도 깨지지 않는다는 장점이 있습니다.<br>높은 PPI의 스마트 폰들이 대중화된 시점에서 많은 웹사이트들이 이용하는 포멧으로 보통 PNG나 GIF보다 용량이 작다고 알려져있습니다.<br>XML 형식으로 이루어져 있어 높은 질의 그래프를 그리는 등의 활용이 가능합니다.</p><img src="/2018/06/14/png-svg/1.jpg" class=""><h1 id="그래서-어떤것을-사용하라고"><a href="#그래서-어떤것을-사용하라고" class="headerlink" title="그래서 어떤것을 사용하라고?"></a>그래서 어떤것을 사용하라고?</h1><p>투명도가 필요하거나 크기를 늘렸다 줄였다 조절할 필요가 없는 곳에는 PNG를 사용하면됩니다.<br>반면 여러 해상도에 맞게 크기를 늘렸다 줄였다 해야 하거나 로고등에 사용하는 이미지 형태는 SVG를 사용할 것을 추천합니다.</p>]]></content>
      
      
      <categories>
          
          <category> ETC </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gitignore가 문제야 뭐야?</title>
      <link href="/2018/06/14/gitignore/"/>
      <url>/2018/06/14/gitignore/</url>
      
        <content type="html"><![CDATA[<p>HEXO에 대해 점점 친해지고 있는 와중에<br>버전관리중인 git에서 문제가 생겼습니다…</p><p>테마를 바꾸려고 themes/something1 에서 themes/something2를 추가하고<br>something1을 삭제했더니.. themes 폴더를 전혀 인식하지 못하는 현상이 생겼습니다…</p><p>결국 git 주소를 하나 더 생성해서 어찌저찌 해결하기는 했는데<br>기존에 가지고 있던 git에서 gitignore나 global gitignore에서도 그 해결점을 찾지 못했습니다.</p><p>버그인지 원래 동작이 저렇게 되는것인지 모르겠는데 주의해야겠네요.</p><p>이것으로 시간 3시간을…..ㅜㅜ</p>]]></content>
      
      
      <categories>
          
          <category> Samll talk </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>[iOS] App Transport Security has blocked a cleartext HTTP</title>
      <link href="/2018/06/12/app-transport-security-http/"/>
      <url>/2018/06/12/app-transport-security-http/</url>
      
        <content type="html"><![CDATA[<h1 id="iOS를-공부하면서-개발하는데"><a href="#iOS를-공부하면서-개발하는데" class="headerlink" title="iOS를 공부하면서 개발하는데.."></a>iOS를 공부하면서 개발하는데..</h1><p>개인 프로젝트로 날씨를 보여주는 앱을 만들고 있습니다.<br>Objective C를 기반으로 공부하면서 시작하는데 http 통신에서 난데없이 에러가 발생했습니다.</p><h2 id="에러-본문"><a href="#에러-본문" class="headerlink" title="에러 본문"></a>에러 본문</h2><p>App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure.<br>Temporary exceptions can be configured via your app’s Info.plist file.</p><a id="more"></a><h2 id="왜-발생하는-것인가"><a href="#왜-발생하는-것인가" class="headerlink" title="왜 발생하는 것인가?"></a>왜 발생하는 것인가?</h2><p>앞으로도 그럴것이지만 보안때문이라고 누구나 짐작할 수 있습니다.<br>ATS(App Transport Security)는 iOS9, OSX 10.11에서 앱과 네트워크간 안전한 통신을 보장하기 위한 기능입니다.<br>안전하지 않은 수준의 https, http 통신을 차단하는 것입니다.<br>시작은 2016년 하반기부터 적용됐습니다.</p><h2 id="어떻게-해결-할-수-있나"><a href="#어떻게-해결-할-수-있나" class="headerlink" title="어떻게 해결 할 수 있나?"></a>어떻게 해결 할 수 있나?</h2><p>Xcode의 Project 내에 Info.plist가 있습니다.</p><p>info.plist &gt; 우클릭 &gt; open &gt; source code</p><img src="/2018/06/12/app-transport-security-http/1.png" class=""><p>그리고 아래의 내용을 넣어주면 됩니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;NSAppTransportSecurity&lt;&#x2F;key&gt;</span><br><span class="line">    &lt;dict&gt;</span><br><span class="line">        &lt;key&gt;NSAllowsArbitraryLoads&lt;&#x2F;key&gt;&lt;true&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;dict&gt;</span><br></pre></td></tr></table></figure><p>아래와 같이 적당한(?!) 위치에 붙여 넣어주면 해결할 수 있습니다.</p><img src="/2018/06/12/app-transport-security-http/2.png" class="">]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Troubleshooting </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
